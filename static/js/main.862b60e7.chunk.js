(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/sfx_wpn_laser1.7c857ee1.wav"},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAjklEQVRYR+2WQQrAIAwENz9p/v+o9CeWQANSvLiUBsp6FExmJyIampc194cAZEAGZOA/BiJiuPt2oO0D9XSzDZ9PPw2QhRLicMcZASZ91qAAKv0ARjZPCAOMsUIBzGMoA7nHWKAAKmmN4Fb5rYEZgk1P34HVJ4aZ/6sA7M+KugNss9U5AciADMiADLQbuADnnjshOGarxwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA4UlEQVRYR+2UwQ3EMAgEoZPQf1G4E59AwUK+ewCXyB/8ipSEXQYvCIcPHtaHNtAEmsAjBJh5ElGpVumnfwT3vZMyMCdMKYAIaCa8GXkv7zLLLfWxFPYiu4nXDXwJwk0Ecl17QmECO2orYuO4iGAwg1zGCTAxaCpswASl+OpAnlyFqGiJgP9JLyOCdnxdpCZMPJuQMAHDKgKCe+tC62TFNVGZyKwx3HEcg8HMrPkno5gyoN0Lcnf8TrCY2q6INJcy8IuAreAK/voIXMyqwivGEUxvflMawZOG2kATaAJN4DiBDzrKfCHGS/waAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABAklEQVRYR+2VSw4DIQhA4Sbj/Q/lUWyw0jCIBWya2dhNMz95Pj4iPPzDh+PDATgGjgHXQK21lVKm9/T9BtAQ8l3lAsg5IYO2Bg0RUN7bgUoBEAzvVO6YYOgZAdH/ypo19EIAt513hjcJB+yXw0g2FSEAi9xLQdRCCsCqAUt5NHhPm3cYkdLx4pTfVdGxHW/tEAAvEln0U6BGh6xgXAPywxXEt1b0LLgAOu+cNBo6mVz/bICDZSxEAF0DFjkvbBUhF2ykZsJFqANNgcUQ+gsAW6DA11X6pTUFvYLbHsW6FXn2axAdIJIGtwZuh844cnW/Zw8gCeoC7GjNfHMAjoFj4HEDL4r0ziE3SigHAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABW0lEQVRYR91WWw7EIAjEm9T7H8rexA1NbCzyGNwmm2z/2iIMwzha6MdP+XF9ggB0ol4Ii802BAHIJs3EpwH0Tp0LlPJkpLXWa61Lvoi9NACtO1k8KjrnCAFYnXES7Z8Xr4EPAYxFSGIkRoJQAVhzHotnineKqiOIEjGoIbxoxhmA7ggGKI0R/ncc9WrmBjaBRLcirIEooWTQYlR+fw3ArQ/hE9FoHwDkbPn9bI00g/EYmfWiCdf1gRlxJDZOhAjOY8EcgdZFRKcEFOnmErAVNAAgRT17jjzlAWC3GNKpNU6bAecO4G0xBiNFu6UBpCsrJsNkqAHr1NOKS+EiQMzDaNird9ZfdlwrK/nKo+5/4wIzGkg5IbozEP+AACzO2Kmf5+qMu56x+ADiatYFZfd2lBqBFJ5WVGPD21EwAETRlhBfAWBRv+P/7mn4jQHtrIVHgCRHx/S/DCAsyZgPlF0MMIC1WsUAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEElEQVRYR81XWxLDIAiEo+T+h9Kb2DEdM2pFF3yk/Q3iviAN08QvEAUm4okW+OEQKDBj9c65cF2XCCx//hSNDmkAaBQpUKKXjMBKAFrnpvzTMJVquwBiyLxz1PMzNkaVa4F4TYEEeisAJCvwFCT5kKaabGxVIAci5eQYANMUaKQs2CpWtKjAij2PEIAsmJlzCUQiCAFAmFhrOLKLh9E3neYiZGR/FNjpfSTrfbnaj1rQytJRAH/1Mkpgmgog4dGEsVf7igV5Fvgk2+MZQMiZLFi5mk0AVgXw3sCtZrV0iJRWUGoFRmDq5/Vqr+27AfT2/0q/k0rFGFqls/4Dqu97LNjBNL9Msu5rgeLLd4VieY8P2WaPIboXUNsAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAs0lEQVRYR+2XSw6AMAgF4SZy/0P1KBiMIDV+YuKzLnCljSnTwZgHU7qUSJmI8xr6viuGArjaNwDsJT8twsLZ/h0AayNlsR683obFwsH+XaHWmorI68XNrBswCOKtxmcA+WPOBx0CYDAOMQzAISD9fvLvKIAyUAbKQBkoA2XgPwZQkfwuG/SpGJCG9wARTtdaCwByJrDslyFksnwusRQAyJlgP/7Zs88e0QLkTHD1HRTAcAMzqEdXu+U9kUQAAAAASUVORK5CYII="},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_long1.e65a7e8b.wav"},,function(e,t,n){},,,,,,,function(e,t,n){e.exports=n.p+"static/media/game-menu.277a07d7.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-main.62197df4.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-end.4f698af1.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-main-summary.430d3f4f.mp3"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_fanfare1.aae78736.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_powerup3.da47f034.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_fanfare3.25f989ff.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_powerup2.35e9b099.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_interaction1.60988248.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_pause1_in.b7b7a7b9.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_pause1_out.959daf2a.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_wpn_cannon1.75bcd782.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_short_soft5.c6e20b31.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_short_hard12.ffa98eb5.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_cluster1.7a7460e6.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_odd1.6d3db534.wav"},function(e,t,n){e.exports=n(79)},,,,,function(e,t,n){},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/ship.8745c391.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABvElEQVRYR+1XW5LDIAwjN1nufyj2Jt6BYlYYv5LpTH/an6YktYQsY+cqH/5c78RvrVGt9VbMWw8PstRofF8CqK/3Neu+sdM8ARkYf8/r9vtCGSowoUDimIAA7jIvEFaEd26p4pDwCcAuqBS6SokJT7BF9EdJFxAKCdBVO2oaeIiCZINU2IGp0QI3gpiqcNo0s4p0uASW0+8SQG/I6xQBatQd3d3s1balwJECRwldAahpJiKN3EF4LeMRayOuuaLdZwhEhrQVUGTDYJoCrin5jBB+OghEu2a5nxBYsYHEqcC8qe2G1xAc0+Caktp//zAJYEOZkknZuwIZAgcZJfbI8ubuBIGofWOK1OqwPMBnNwNwX7eMZxHxCGj+eingnNde3j0S2cNIJyC6YCR7pAbftxUopWAKKrRQWW6aAWUlyAOKgV0CKxXz39wJGVDWP1cDVoX2TA+3AUcH0TbTYUtWdPaGFPTOIJYqQwA5Rq+HRnjWCxBMm3K1AVXOg8mZIBzJeCjxjmZZytI3Xn+JZz1lKt5ePsBU2yCKKmrqzPsxAQ7kvXDgDNhdj+8HgXfyBBImfGLctxJIcDwe+RL4A6hvfDDjUhdcAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACBUlEQVRYR8VXQXLEIAyDnyz/fxT7EzpmMRXCBmdmO82lmSTFsizZ3pz++cozfqut3+fy++yvwEGsPZi8PIFAoHrPwE9nUKJ2th4bGNBiB4C3lFpOaWeYwPp0jyyWgxhALnm+t0AzWwaz53ojlXDYElQO9UoxWKq1tlJsbcVLMILUd0r9sFs5gGoBoBVjIDHFKxNWUGSA2Qi4agNwFQ+A6Gy8gl51nOX3ASNbCWhdQivS/Col5VY/PYXFSXo5a0ApHCXQIFpHDCqfKhBhpeULiMGI3Yg0TchAxaeK5r/yLxMgluXEQi7ZB0CCYvpntoN+LkPXhmFRtmQYgBy2ZDgoFNG+a/1YE33P4ryKENUV6fdAOQtzgrk0qC6xTdVGcBGUZImXUi6KZwZUD5tFQ62YUbfaGADTLQG79VJa7OjpABM5u0BrOvyPQruJsNtSdWA5YZx97wPQC9QJGJxLqEJdSnPQwmMAFv0WM3P4sB1xhG8idMavtlNsRpYgl2dGYKuN31cyZyZMisHvAnB5bu0KtK7Fx3Fw6M3PDsI7u0DeehMsMvsNwfEQu9twNIylb0dA4fTU+9Exn61kQoJutZYwuRzWJgQA+ufOqm5qYNuEsYVac8J7T0Ct5fTugqfi46HG/f/oAoemBYPx28DEeDoLWIzZ0MoqAjbA3jMAXwp67wMB5N/65Afslf0wgQfXLAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACd0lEQVRYR51XQYIDIQjTn9T/P8r+ZHaxYEMMs+320tZhAEOC2Ns3n2tey7yPvr7jP/qwZ7we9hzrmtfb0Y2RzFEFutsM+7ck++ivBGI3yqhyWiUQ6330OV+IjYc7wXc8Vk4ggoHhfL4Wx6hhRxsLarb4vZOADV6tGfyAgJXUF7G+5jwc7kSueUXQyBltELSdDKCAcd4ICKhtF48x2nPO9DQl9GjtSIbWFnpM4KjKEdcN2WnAiOuWnH04QWW7kyCeZQQAWoQOg25CeeZcItwQopdQMKOKhEfNBcSMmkrWgvdrrvIwP1AVqaF8Gvxw6Kw/ElP8ID7kjgba5TreBf0kIdv12qCpAWR+m0AFNdc2Gk7IdDcgQGYncIcAluAgUGuNm0wkGOvpf+w4mhKUAwmZOuHuaGgMjiwABlO/EQ1GBJtW9IWjFUedZDLejlW7jVZdlUMFX2pMdfYTagUA0iTyhP79oEmOi2dVcH0aij6PUKrWfEfKePZVI+Ig+yQUHNgHFEnm4EIcRtAFcwnoDIgSlF0P+IBJcOANP88E5TxAg0Q6B4iELMNEQFBStOVlT0PJSUKD2YeQv3bPz0Omav2YivroPheQOSgB2zHzQGlcSTF87EHWFjyGliEhUE06mABPTNiK1/bUMOJrH5UAAygZKjRK7ZcqiDeKWZ/ZXSViblRfSIMMTEUbATWQJna4Oiq4JfFoTkhE9BfuLyaIBsqTegDCHW1cJbRlCA+PqVgiQZeQSqab8az3COjQI0klCVWm8h7oiuExPUmOoODZIXHAdVnfFQo5yalZ3DUD3fNiUlwayjreKYbgLn3sy+l/g6PnT6/jnM3vez/v0LVIfdTdDwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACFUlEQVRYR8VXQY7EIAyDnwz/fxTzE1ahBJnghLLSaudSTVsSx3EMzemff7nnb7X1ay7P/z/81frkKuXJtSRsKbVs7iEWXCzvfmtN5WOASzFeIaTQrWKLUAHI/Z4spVS/O0Va0WQUQChYrFwjUMp7slKyXnvSQV0PMqrG92xwy5bHrNtzlhxBzeeDVmFlYWGUiHGYtF61YKl+MPMpJeVWl5jYGgVj11oQR9VbmjGAMjLpb7UxENFQLQA2uiCgJpPKRf3eT/TR2wHXaLypDyBtJ0tAFuRdBTj1AmPK2uFqQGn1lG5BMoY8ECjWFQChXBlgE+CNqV2DIzoNjDmhWLKOU9QGD4wnUAXAnHYXIZgMqwSrEZB9HMG+t9ZYqzai2jSAFEUz7DFk53/bK0IArbaWn4retAAZwrhsLXNJWfNahCwZc0irg6krpxUUgJpI5HoqqMgpl1F+BcDsehiAjaM1Kc8bepwbAMjA5vewy1mAnhnheNtRnC1Y9gHHD6ztMoYiE2K2/nozWvQQnIwWsWohSj85rh23Y6WPofd2Rq9tRwbkhe1MCAdJfBYJzrol/rcg3BZ4mugBCChv5K6PZMoCO5Tqqbi/M07G3eHgXMhGLgJBzwPo52ihrAX2uev9zvfC1YcJE5F7jyQMt+PTVxEKlO0LC5Dg68iK/DyGEBl939vdrljadsNg9UnNt4n1/SsGfpskWvcD7otZP/TRmLkAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2X3Q2AIAyEj1HYzg2cwQ3crm6CQUFb42/i6Uv7BiHl61GSa4CORhL6GMweeWEvYwGc5F0B8qEaDBUO8hsAaYHYAZRnaCTt5TdPkIAUAE4PFAUmiLj22XcAqpl1ob8AZJYK8RuAgiB/9Iv0nIZ7UJMDuAKugCvgCrgCroB1xQw3fNsPsGaCLUC156XYWQHiTJC9n2YYRGbrX2IBoM4E2/Evr40CyqU+cFOvHF2akDqUnKA6wAgOWExlxHkIvQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAwklEQVRIS+2UUQ7EIAhE4Si9nT3R9nYehQ0IDau1YrPxq8SkPzjPGUgRFhQuYMALmUr5Pq6UCY7tp4cICLGK+aLPv2I8ExVgcZEmAPsKbABg2BjCXSkTHVt5nEH4cspQO73KMQZhbXZSVRNbZ1IxCEfCoI+6YRd7LpLVzJ45UYBALDKLyhQHoPF2OSEqE5FCPu4Bd476EC+gsfi5nJvl8+k4ikH0cuNEN+/k/AOiG0wSlVUgsth2Tf1E2uYXMhXgkri+xNVLFbLUHXYAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAm0lEQVQ4T+2UQRLDIAhF/z+Kh0kPnRwmRyFDFWvRatO6yCJu0AHf8AElJi5OZOGGxWoKIARotlfjumayCxiIZCuY85fwNswiFKrZrRA+UrMU5vz52EzbLjBQQTlYgYXP322PxlTYU1uUI1t4qVr2uE/yv8usiKpkdto5fAF/w96657v5S2Yl0MM/8boyTWKescEXM6zZmS/qurAD5VJKFMb8mZ4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAjUlEQVQ4T9XUwQ2AMAgFUBil+w/VUb5BxRCEFhMucqz15ResTI3FjRb9HQOBeH+K2jE7MNCEDIgxCDzPWTGNNED6wEI68R24xCSRFFjSXaSAWboYkx6ZstizHAxkiwmkpenu5r3efWMu1fKGuHQ5phst7tdKmO9H9J0Fa3GyNixqUscN+Pp7qt3NotqKHVslNhRW8lxOAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(21),s=(n(48),n(3)),r=n(2),a=n(4),u=n(22),c={name:"AudioManager",debug:!0,logging:!0,version:"1"},l=function(){function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.toString=function(){return JSON.stringify({config:n.config},null,"  ")},this.config=Object(s.a)({},c,t),this.sounds={},this.songs={},this.soundFactory=u.Howl,this.audioEngine=u.Howler}return Object(a.a)(e,[{key:"registerSound",value:function(e,t){this.sounds[e]=new this.soundFactory(t)}},{key:"unRegisterSound",value:function(e){this.sounds[e].stop(),this.sounds[e].unload(),delete this.sounds[e]}},{key:"registerSong",value:function(e,t){this.songs[e]=new this.soundFactory(Object(s.a)({loop:!0},t))}},{key:"unRegisterSong",value:function(e){this.songs[e].stop(),this.songs[e].unload(),delete this.songs[e]}},{key:"playSound",value:function(e,t){try{this.sounds[e].play(t)}catch(n){throw new Error('[AudioManager:ERROR]: Sound: "'.concat(e,'" not found..'))}}},{key:"stopSound",value:function(e,t){try{this.sounds[e].stop(t)}catch(n){throw new Error('[AudioManager:ERROR]: Sound: "'.concat(e,'" not found..'))}}},{key:"playSong",value:function(e,t){try{this.songs[e].play(t)}catch(n){throw new Error('[AudioManager:ERROR]: Song: "'.concat(e,'" not found..'))}}},{key:"stopSong",value:function(e,t){try{this.songs[e].stop(t)}catch(n){throw new Error('[AudioManager:ERROR]: Song: "'.concat(e,'" not found..'))}}},{key:"registerListener",value:function(e,t,n){this.sounds[e].on(t,n)}},{key:"registerOnceListener",value:function(e,t,n){this.sounds[e].once(t,n)}},{key:"unRegisterListener",value:function(e,t,n){this.sounds[e].off(t,n)}},{key:"changeVolume",value:function(e){this.audioEngine.volume(e)}}]),e}();function d(e){return function(t,n){var i=t.components.filter(function(t){return i=n,t.id===i.id&&function(e,t){return void 0!==t[e]}(e,t.state);var i});return 0===i.length?null:f(i)}}function m(e){return function(t,n,i){var o=e(t,n);if(null===o)return o;o.state=i}}function p(e){return e}function h(e){return{id:e}}function f(e){return e[0]}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return{next:function(){return e++}}}};function g(e){return Object.keys(e)}function y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(void 0,arguments)}}var A=function(e,t,n){return n<e?e:n>t?t:n},E=function(e){return e&&void 0!==e.state};function b(){var e,t,n,i,o,s=0;return e=Math.random,function(){if(s)o=n*i;else{do{t=2*e()-1,n=2*e()-1,i=t*t+n*n}while(i>=1);i=Math.sqrt(-2*Math.log(i)/i),o=t*i}return s^=1,o}}function C(e,t){var n,i=!1;return function(){return i||(n=e.apply(void 0,arguments),i=!0,setTimeout(function(){i=!1},t)),n}}var S,R={top:0,left:0,bottom:600,right:800};!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Zero=48]="Zero",e[e.ClosedParen=48]="ClosedParen",e[e.One=49]="One",e[e.ExclamationMark=49]="ExclamationMark",e[e.Two=50]="Two",e[e.AtSign=50]="AtSign",e[e.Three=51]="Three",e[e.PoundSign=51]="PoundSign",e[e.Hash=51]="Hash",e[e.Four=52]="Four",e[e.DollarSign=52]="DollarSign",e[e.Five=53]="Five",e[e.PercentSign=53]="PercentSign",e[e.Six=54]="Six",e[e.Caret=54]="Caret",e[e.Hat=54]="Hat",e[e.Seven=55]="Seven",e[e.Ampersand=55]="Ampersand",e[e.Eight=56]="Eight",e[e.Star=56]="Star",e[e.Asterik=56]="Asterik",e[e.Nine=57]="Nine",e[e.OpenParen=57]="OpenParen",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.LeftWindowKey=91]="LeftWindowKey",e[e.RightWindowKey=92]="RightWindowKey",e[e.SelectKey=93]="SelectKey",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.DecimalPoint=110]="DecimalPoint",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.SemiColon=186]="SemiColon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.UnderScore=189]="UnderScore",e[e.PlusSign=187]="PlusSign",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.ClosedBracket=221]="ClosedBracket",e[e.Quote=222]="Quote"}(S||(S={}));var w={name:"componentManager",debug:!0,logging:!0,version:"1"},O=function(){function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.registerComponent=function(e){e.id=-1===e.id?n.idGenerator().next():e.id;var t=p(e);return n.components[e.id]=t,t},this.unRegisterComponent=function(e){delete n.components[e]},this.get=function(e){var t="number"===typeof e?e:e&&e.id;return n.components[t]},this.getSerializableState=function(){return{config:n.config,components:n.components}},this.loadHydratedState=function(e){n.config=e.config,n.components=e.components},this.toString=function(){return JSON.stringify({config:n.config,components:n.components},null,"  ")},this.config=Object(s.a)({},w,t),this.components=[],this.idGenerator=v()}return Object(a.a)(e,[{key:"getState",get:function(){return this.components}}],[{key:"isSameComponent",value:function(e,t){return e.id===t.id}}]),e}(),N={name:"EntityManager",debug:!0,logging:!0,version:"1"},F=function(){function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.registerEntity=function(){var e=n.idGenerator().next(),t=p({id:e});return n.entities[e]=t,t},this.unRegisterEntity=function(e){delete n.entities[e]},this.get=function(e){var t="number"===typeof e?e:e.id;return n.entities[t]},this.getSerializableState=function(){return{config:n.config,entities:n.entities}},this.loadHydratedState=function(e){n.config=e.config,n.entities=e.entities},this.toString=function(){return JSON.stringify({config:n.config,entities:n.entities},null,"  ")},this.config=Object(s.a)({},N,t),this.entities=[],this.idGenerator=v()}return Object(a.a)(e,[{key:"getState",get:function(){return this.entities}}],[{key:"isSameEntity",value:function(e,t){return e.id===t.id}}]),e}(),U=n(24),j={name:"EventManager",debug:!0,logging:!0,version:"1"},k=function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.registerListener=function(e,t){n.emitter.addListener(e,t)},this.unRegisterListener=function(e,t){n.emitter.removeListener(e,t)},this.emit=function(e,t){n.emitter.emit(e,t)},this.onUpdate=function(e,t){n.emitter.emit("updateComponent",e,t)},this.onChange=function(e,t,i){n.emitter.emit(e,t,i)},this.config=Object(s.a)({},j,t),this.emitter=new U.EventEmitter2({delimiter:":",wildcard:!0,maxListeners:200})};function P(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}function I(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1}function L(){this._keys=[],this._position=new P(0,0),this._positionUpdated=!1,this._delta=new P(0,0),this._wheel=0,this._wheelUpdated=!1,this._doubleClicked=!1,this.keys=[],this.position=new P(0,0),this.delta=new P(0,0),this.wheel=0,this.doubleClicked=!1,this.canvas=null,this.events=[];for(var e=0;e<3;e++)this._keys.push(new I),this.keys.push(new I);var t=this;if(void 0!==window.onmousewheel?this.events.push([window,"mousewheel",function(e){t._wheel=e.deltaY,t._wheelUpdated=!0}]):void 0!==window.addEventListener?this.events.push([window,"DOMMouseScroll",function(e){t._wheel=30*e.detail,t._wheelUpdated=!0}]):this.events.push([window,"wheel",function(e){t._wheel=e.deltaY,t._wheelUpdated=!0}]),"ontouchstart"in window||navigator.msMaxTouchPoints>0){var n=new P(0,0);this.events.push([window,"touchstart",function(e){var i=e.touches[0];n.set(i.clientX,i.clientY),t.updateKey(L.LEFT,I.DOWN)}]),this.events.push([window,"touchend",function(e){t.updateKey(L.LEFT,I.UP)}]),this.events.push([window,"touchmove",function(e){var i=e.touches[0];if(null!==t.canvas){var o=t.canvas.getBoundingClientRect();t.updatePosition(i.clientX-o.left,i.clientY-o.top,i.clientX-n.x,i.clientY-n.y)}else t.updatePosition(i.clientX,i.clientY,i.clientX-n.x,i.clientY-n.y);n.set(i.clientX,i.clientY)}])}else this.events.push([window,"mousemove",function(e){if(null!==t.canvas){var n=t.canvas.getBoundingClientRect();t.updatePosition(e.clientX-n.left,e.clientY-n.top,e.movementX,e.movementY)}else t.updatePosition(e.clientX,e.clientY,e.movementX,e.movementY)}]),this.events.push([window,"mousedown",function(e){t.updateKey(e.which-1,I.DOWN)}]),this.events.push([window,"mouseup",function(e){t.updateKey(e.which-1,I.UP)}]);this.events.push([window,"dblclick",function(e){t._doubleClicked=!0}]);for(var i=0;i<this.events.length;i++){var o=this.events[i];o[0].addEventListener(o[1],o[2])}}function x(){this.keys=[],this.actions=[];for(var e=0;e<256;e++)this.keys.push(new I);this.events=[];var t=this.actions;this.events.push([window,"keydown",function(e){t.push(e.keyCode),t.push(I.DOWN)}]),this.events.push([window,"keyup",function(e){t.push(e.keyCode),t.push(I.UP)}]);for(var n=0;n<this.events.length;n++){var i=this.events[n];i[0].addEventListener(i[1],i[2])}}P.prototype.set=function(e,t){this.x=e,this.y=t},I.DOWN=-1,I.UP=1,I.RESET=0,I.prototype.update=function(e){this.justPressed=!1,this.justReleased=!1,e===I.DOWN?(this.pressed||(this.justPressed=!0),this.pressed=!0):e===I.UP?(this.pressed&&(this.justReleased=!0),this.pressed=!1):e===I.RESET&&(this.justReleased=!1,this.justPressed=!1)},I.prototype.set=function(e,t,n){this.pressed=t,this.justPressed=e,this.justReleased=n},I.prototype.reset=function(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1},L.LEFT=0,L.MIDDLE=1,L.RIGHT=2,L.prototype.setCanvas=function(e){this.canvas=e,e.mouseInside=!1,e.addEventListener("mouseenter",function(){this.mouseInside=!0}),e.addEventListener("mouseleave",function(){this.mouseInside=!1})},L.prototype.insideCanvas=function(){return null!==this.canvas&&this.canvas.mouseInside},L.prototype.setLock=function(e){null!==this.canvas&&(e?this.canvas.requestPointerLock?this.canvas.requestPointerLock():this.canvas.mozRequestPointerLock?this.canvas.mozRequestPointerLock():this.canvas.webkitRequestPointerLock&&this.canvas.webkitRequestPointerLock():document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock?document.mozExitPointerLock():document.webkitExitPointerLock&&document.webkitExitPointerLock())},L.prototype.buttonPressed=function(e){return this.keys[e].pressed},L.prototype.buttonDoubleClicked=function(){return this.doubleClicked},L.prototype.buttonJustPressed=function(e){return this.keys[e].justPressed},L.prototype.buttonJustReleased=function(e){return this.keys[e].justReleased},L.prototype.updatePosition=function(e,t,n,i){this._position.set(e,t),this._delta.x+=n,this._delta.y+=i,this._positionUpdated=!0},L.prototype.updateKey=function(e,t){e>-1&&this._keys[e].update(t)},L.prototype.update=function(){for(var e=0;e<this._keys.length;e++)this._keys[e].justPressed&&this.keys[e].justPressed&&(this._keys[e].justPressed=!1),this._keys[e].justReleased&&this.keys[e].justReleased&&(this._keys[e].justReleased=!1),this.keys[e].set(this._keys[e].justPressed,this._keys[e].pressed,this._keys[e].justReleased);this._wheelUpdated?(this.wheel=this._wheel,this._wheelUpdated=!1):this.wheel=0,this._doubleClicked?(this.doubleClicked=!0,this._doubleClicked=!1):this.doubleClicked=!1,this._positionUpdated?(this.delta.x=this._delta.x,this.delta.y=this._delta.y,this._delta.set(0,0),this.position.x=this._position.x,this.position.y=this._position.y,this._positionUpdated=!1):(this.delta.x=0,this.delta.y=0)},L.prototype.dispose=function(){for(var e=0;e<this.events.length;e++){var t=this.events[e];t[0].removeEventListener(t[1],t[2])}},x.prototype.update=function(){for(var e=0;this.actions.length>e;){var t=this.actions.shift(),n=this.actions.shift();this.keys[t].update(n),(this.keys[t].justReleased||this.keys[t].justPressed)&&(this.actions.push(t),this.actions.push(I.RESET),e+=2)}},x.prototype.reset=function(){this.actions=[];for(var e=0;e<this.keys.length;e++)this.keys[e].reset()},x.prototype.keyPressed=function(e){return this.keys[e].pressed},x.prototype.keyJustPressed=function(e){return this.keys[e].justPressed},x.prototype.keyJustReleased=function(e){return this.keys[e].justReleased},x.prototype.dispose=function(){for(var e=0;e<this.events.length;e++){var t=this.events[e];t[0].removeEventListener(t[1],t[2])}},x.TAB=9,x.ENTER=13,x.SHIFT=16,x.CTRL=17,x.ALT=18,x.CAPS_LOCK=20,x.ESC=27,x.SPACEBAR=32,x.PAGE_UP=33,x.PAGE_DOWN=34,x.END=35,x.HOME=36,x.INSERT=45,x.DEL=46,x.LEFT=37,x.RIGHT=39,x.UP=38,x.DOWN=40,x.NUM0=48,x.NUM1=49,x.NUM2=50,x.NUM3=51,x.NUM4=52,x.NUM5=53,x.NUM6=54,x.NUM7=55,x.NUM8=56,x.NUM9=57,x.A=65,x.B=66,x.C=67,x.D=68,x.E=69,x.F=70,x.G=71,x.H=72,x.I=73,x.J=74,x.K=75,x.L=76,x.M=77,x.N=78,x.O=79,x.P=80,x.Q=81,x.R=82,x.S=83,x.T=84,x.U=85,x.V=86,x.W=87,x.X=88,x.Y=89,x.Z=90,x.F1=112,x.F2=113,x.F3=114,x.F4=115,x.F5=116,x.F6=117,x.F7=118,x.F8=119,x.F9=120,x.F10=121,x.F11=122,x.F12=123;var B=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new x;Object(r.a)(this,e),this.mouse=n,this.keyboard=i,this.KeyCodes=x,this.buttonPressed=function(e){return t.mouse.buttonPressed(e)},this.keyPressed=function(e){return t.keyboard.keyPressed(e)},this.keyJustPressed=function(e){return t.keyboard.keyJustPressed(e)},this.keyJustReleased=function(e){return t.keyboard.keyJustReleased(e)},this.update=function(){t.mouse.update(),t.keyboard.update()}},M=function(){function e(t){var n=this;Object(r.a)(this,e),this.system=t,this.saveGame=function(){n.saveState("ecs",n.system.getSerializableState())},this.loadGame=function(){var e=n.loadStateFromKey("ecs");if(e){var t=n.hydrateLoadedComponents(n.system,e);e.system.components=t,n.system.loadHydratedState(e)}}}return Object(a.a)(e,[{key:"saveState",value:function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}},{key:"loadStateFromKey",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"hydrateLoadedComponents",value:function(e,t){var n=this,i=t.system.components,o={};return i.map(function(t){var i,s=o[t.name];return s?i=s:(i=n.system.getComponentFactory(t.name)(e),o[t.name]=i),i({id:t.entityId},t.state,{onUpdate:function(e,t){return null},onChange:function(e,t,n){return null}},t.id)})}}]),e}();var G=n(1);function K(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"horizontal",o="horizontal"===i?"x":"y",s="horizontal"===i?[n.input.KeyCodes.LEFT,n.input.KeyCodes.RIGHT]:[n.input.KeyCodes.UP,n.input.KeyCodes.DOWN],r=Object(G.a)(s,2),a=r[0],u=r[1];n.input.keyPressed(u)?t.state.direction[o]=1:n.input.keyPressed(a)?t.state.direction[o]=-1:t.state.direction[o]=0}var Q="attack";function D(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:Q,state:{attacking:n.attacking,attackPower:n.attackPower},update:function(e,t){!function(e,t){t.input.keyPressed(t.input.KeyCodes.SPACEBAR)?e.state.attacking=!0:e.state.attacking=!1}(t,e)}}))}}m(d(Q));var V="game:start",T="game:lose",W="level:load",H="level:begin",Y="level:finished",X="attack:player",q="collision:begin",z="dead:enemy",J="enemy:free",Z="engine:start",_="engine:stop",$="health";function ee(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:$,entityId:t.id,state:{health:n.health,isDead:n.isDead},update:function(e,n){if(!n.state.health.immortal){var o=n.state.isDead,s=!(n.state.health.value>0);n.state.isDead=s,!o&&s&&i.onChange(z,n,t)}}}))}}m(d($));var te="position";function ne(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:te,entityId:t.id,state:{position:Object(s.a)({},n.position),center:Object(s.a)({},n.position),controllable:n.controllable||!0},update:function(e,n){!function(e,t,n,i){if(!n.state.controllable)return;var o=t.getEntityComponent(e,"controls");if(!o||!o.state.moving)return;var s=o.state,r=s.direction,a=s.speed;n.state.position.x+=r.x*a.x,n.state.position.y+=r.y*a.y;var u=t.getEntityComponent(e,"boundary"),c=t.getEntityComponent(e,"geometry");if(E(u)&&E(u)){var l=c.state.geometry,d=l.width,m=l.height,p=u.state.boundary,h=A(p.left,p.right-d,n.state.position.x),f=A(p.top,p.bottom-m,n.state.position.y);n.state.position.x=h,n.state.position.y=f,n.state.center.x=n.state.position.x-d/2,n.state.center.y=n.state.position.y-m/2}}(t,e,n)}}))}}m(d(te));function ie(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:"name",entityId:t.id,state:{name:n.name},update:function(){return null}}))}}var oe="collidable";function se(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:oe,state:{collidable:n.collidable||!0,collisionGroup:n.collisionGroup},update:function(e,t){return null}}))}}m(d(oe));var re="collisions";function ae(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:re,state:{collisions:n.collisions||[],collisionGroup:n.collisionGroup},update:function(e,n){!function(e,t,n,i){var o=n.getEntityModel({id:t.entityId}),s=n.getEntitiesByComponentTypes(["geometry","position","collidable"]).filter(function(e){return e!==t.entityId}).map(function(e){return n.getEntityModel({id:e})}).filter(function(e){return e.collisionGroup!==t.state.collisionGroup}),r=ue(o.position,o.geometry),a=[];s.forEach(function(e){var t,n,i=ue(e.position,e.geometry);n=i,(t=r).left>n.right||n.left>t.right||t.bottom<n.top||n.bottom<t.top||void 0===i||a.push(e.id)});var u=t.state.collisions?t.state.collisions.map(function(e){return e}):[];t.state.collisions=a,new Set(u)!==new Set(a)&&a.length>0&&i.onChange(q,t,e)}(t,n,e,i)}}))}}m(d(re));function ue(e,t){return{left:e.x-t.width/2,right:e.x+t.width/2,top:e.y,bottom:e.y+t.height}}var ce="geometry";function le(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:ce,state:{geometry:{width:n.geometry.width,height:n.geometry.height}},update:function(e,t){return null}}))}}var de="momentum";function me(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:de,state:{momentum:{direction:n.momentum.direction,speed:n.momentum.speed}},update:function(e,n){!function(e,t,n){var i=n.getEntityComponent(e,"position").state.position;if(n.getEntityComponent(e,"offscreen").state.offscreen)return;var o=t.state.momentum,s=o.direction,r=o.speed;i.y+=s.y*r,i.x+=s.x*r}(t,n,e)}}))}}m(d(de));function pe(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:"offscreen",state:{offscreen:n.offscreen||!1},update:function(e,n){!function(e,t,n){var i=n.getEntityComponent(e,"position").state.position,o=n.config.screenSize;if(i.x<0||i.y<0)return void(t.state.offscreen=!0);if(i.x>o.x||i.y>o.y)return void(t.state.offscreen=!0);if(i.x>window.innerWidth||i.y>window.innerHeight)return void(t.state.offscreen=!0);t.state.offscreen=!1}(t,n,e)}}))}}var he="loot";function fe(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:he,state:{loot:n.loot},update:function(e,t){return null}}))}}m(d(he));var ve="boundary";function ge(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:ve,state:{boundary:n.boundary||R},update:function(e,t){return null}}))}}m(d(ve));var ye="texture";function Ae(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:ye,state:{texture:n.texture},update:function(e,t){return null}}))}}var Ee=.1,be=4;function Ce(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:"wiggle",state:{wiggling:n.wiggling,wiggleState:{counter:0,increment:1}},update:function(e,n){!function(e,t,n,i){if(!t.state.wiggling)return;var o=t.state.wiggleState,s=o.counter,r=o.increment;s==be&&(t.state.wiggleState.increment=-1);s==-be&&(t.state.wiggleState.increment=1);t.state.wiggleState.counter+=r;var a=n.getEntityComponent(e,"position");E(a)&&(a.state.position.x+=s*Ee)}(t,n,e)}}))}}var Se="homePosition";function Re(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:Se,entityId:t.id,state:{homePosition:Object(s.a)({},n.homePosition),goHome:n.goHome},update:function(e,n){!function(e,t,n,i){var o=t.getEntityComponent(e,"position");if(!o||!o.state)return;var s=n.state.homePosition,r=s.x,a=s.y,u=r-o.state.position.x,c=a-o.state.position.y;n.state.goHome&&(o.state.position.x=Math.abs(u)<1?r:o.state.position.x+u/we,o.state.position.y=Math.abs(c)<1?a:o.state.position.y+c/we);n.state.isHome=0===u&&0===c}(t,e,n)}}))}}var we=66*1.1;var Oe={name:ie,health:ee,position:ne,age:function(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:"age",entityId:t.id,state:{age:n.age},update:function(e,t){var n=e.epoch;0===n%2e3&&n>0&&t.state.age++}}))}},controls:function(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:"controls",state:{direction:n.direction,moving:n.moving,speed:n.speed},update:function(e,n){!function(e,t,n){K(e,t,n,"vertical")}(t,n,e),function(e,t,n){K(e,t,n)}(t,n,e),function(e,t,n){var i=t.state.direction,o=i.x,s=i.y;t.state.moving=0!==o||0!==s}(0,n)}}))}},collisions:ae,collidable:se,attack:D,momentum:me,offscreen:pe,geometry:le,loot:fe,boundary:ge,texture:Ae,wiggle:Ce,homePosition:Re};var Ne={debug:!1,logging:!0},Fe=function e(t,n,i){var o,a=this;Object(r.a)(this,e),this.entityModelCache={},this.entityComponentCache={},this.init=function(e){return null},this.registerEntity=function(){return a.entities.registerEntity()},this.registerComponents=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(a.registerComponent)},this.registerComponent=function(e){var t=a.components.registerComponent(e);return a.entityComponentSetter([t.entityId,t.name],t.id),t},this.getComponent=function(e){return a.components.get(e)},this.getComponentById=function(e){return a.components.get(e)},this.getComponentIdsForEntity=function(e){return void 0===e?[]:(t=a.entityComponents[e.id],Object.keys(t).map(function(e){return t[e]}));var t},this.getComponentsForEntity=function(e){return a.getComponentIdsForEntity(e).map(a.components.get)},this.getComponentFactory=function(e){return a.componentFactories[e]},this.getCachedComponentsForEntity=function(e){var t=a.entityModelCache[e.id];if(t)return t;var n=a.getComponentsForEntity(e);return a.entityModelCache[e.id]=n,n},this.unRegisterEntity=function(e){a.unRegisterComponentsForEntity(e),a.deleteEntityComponents(e),a.clearEntityComponentCache(),a.clearEntityModelCache(),a.entities.unRegisterEntity(e)},this.unRegisterComponent=function(e){a.components.unRegisterComponent(e)},this.unRegisterComponentsForEntity=function(e){a.getComponentIdsForEntity({id:e}).forEach(function(e){return a.components.unRegisterComponent(e)})},this.deleteEntityComponents=function(e){delete a.entityComponents[e]},this.clearEntityComponentCache=function(){delete a.entityComponentCache,a.entityComponentCache={}},this.clearEntityModelCache=function(){delete a.entityModelCache,a.entityModelCache={}},this.getEntityComponent=function(e,t){return a.getComponentById(a.entityComponents[e.id][t])},this.getEntityModel=function(e){return function(e,t){return t.filter(function(t){return t&&t.entityId===e.id}).reduce(function(e,t){return Object(s.a)({},e,t.state)},{id:e.id})}(e,a.system.components)},this.getEntitiesByComponentTypes=function(e){var t=e.join("-");if(void 0!==a.entityComponentCache[t])return a.entityComponentCache[t];for(var n=function(t){return-1!==e.indexOf(t.name)},i=[],o=0;o<a.system.entities.length;o++){var s=a.system.entities[o];a.getComponentIdsForEntity(s).map(a.getComponentById).filter(n).length===e.length&&i.push(s.id)}return a.entityComponentCache[t]=i,i},this.step=function(){return a.input.update(),a.updateSystemEntities(),a.entityComponentCache={},a.epoch++,a.system},this.updateSystemEntities=function(){a.system.entities.forEach(a.updateComponentsForEntity)},this.updateComponentsForEntity=function(e){for(var t=a.getCachedComponentsForEntity(e),n=0;n<t.length;n++)a.updateComponent(t[n])},this.updateComponent=function(e){return e.update(a,e)},this.getSerializableState=function(){return{system:a.system,config:a.config,epoch:a.epoch,entityComponents:a.entityComponents}},this.loadHydratedState=function(e){a.system=e.system,a.config=e.config,a.epoch=e.epoch,a.entityComponents=e.entityComponents},this.getState=function(){return a.system},this.toString=function(){return JSON.stringify({system:a.system,config:a.config},null,"  ")},this.config=Object(s.a)({},Ne,t),this.input=n||new B,this.storage=new M(this),this.events=new k(t),this.audio=new l(t),this.epoch=i||0,this.componentFactories=Oe,this.entities=new F(t),this.components=new O(t),this.entityComponents={},this.system={entities:this.entities.entities,components:this.components.components},this.entityComponentSetter=(o=this.entityComponents,function(e,t){return function(e,t,n){for(var i=t,o=e,s=0;s<i.length-1;s++){var r=i[s];r in o?o=o[r]:(o[r]={},o=o[r])}o[i[i.length-1]]=n}(o,e,t)})};var Ue=function(e){var t=e.name,n=e.version,i=void 0===n?"1":n,o=e.logging,s=void 0===o||o,r=e.screenSize;return new Fe({name:t,version:i,logging:s,screenSize:void 0===r?{x:800,y:600}:r})}({name:"Galaga"}),je=n(7),ke=n(6),Pe=n(8),Ie=(n(53),n(55),n(57),n(25)),Le=n.n(Ie),xe={direction:{x:0,y:0},moving:!0,speed:{x:2,y:1.65},disabled:!1,jitter:400};function Be(e){return function(t,n,i){var o,s,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=n.controls||xe,u=a.jitter||xe.jitter,c=function(e){u=e||xe.jitter,o=C(b(),u),s=C(b(),u)};return c(u),e.registerComponent(p({id:r,entityId:t.id,name:"controls",state:{direction:a.direction||{x:0,y:0},moving:a.moving||!0,speed:a.speed||{x:2,y:1.65},disabled:a.disabled||!1,jitter:u},update:function(e,t){t.state.jitter!==u&&c(u),t.state.disabled||function(e,t,n,i,o,s){if(t.state.disabled)return;var r=o(),a=s();t.state.direction.x=A(-1,1,r),t.state.direction.y=A(-1,1,a);var u=t.state.direction,c=u.x,l=u.y;t.state.moving=0!==c||0!==l}(0,t,0,0,o,s)}}))}}var Me="position";function Ge(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,name:Me,entityId:t.id,state:{position:n.position},update:function(e,n){!function(e,t,n,i){var o=t.getEntityComponent(e,"controls");if(!o||!o.state.moving)return;var s=o.state,r=s.direction,a=s.speed;n.state.position.x+=r.x*a.x,n.state.position.y+=r.y*a.y;var u=t.getEntityComponent(e,"boundary"),c=t.getEntityComponent(e,"geometry");if(E(u)&&E(c)){var l=c.state.geometry,d=l.width,m=l.height,p=u.state.boundary,h=n.state.position,f=h.x,v=h.y;n.state.position.x=f<p.left?p.right-d:f>p.right?p.left:f,n.state.position.y=v<p.top?p.bottom-m:v>p.bottom?p.top:v}}(t,e,n)}}))}}m(d(Me));function Ke(e,t,n,i){return i.map(function(t){return t(e)}).map(function(i){return i(t,n,e.events)})}function Qe(e,t,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"hostile";return function(e,t){var n=e.registerEntity();return Ke(e,n,t,[ie,ee,Ge,le,Ae,ge,Be,Ce,se,fe]),n}(e,{name:n,texture:t,wiggling:!0,controls:{disabled:!0},health:{value:1},position:i||{x:-999,y:-999},geometry:o||{width:64,height:64},loot:{points:10},boundary:R,collisionGroup:s})}var De,Ve,Te,We=n(11),He=n(10),Ye=n(5),Xe=n(26),qe=n(27),ze=n.n(qe),Je=n(28),Ze=n.n(Je),_e=n(29),$e=n.n(_e),et=n(30),tt=n.n(et),nt=n(31),it=n.n(nt),ot=n(32),st=n.n(ot),rt=n(33),at=n.n(rt),ut=n(34),ct=n.n(ut),lt=n(35),dt=n.n(lt),mt=n(36),pt=n.n(mt),ht=n(37),ft=n.n(ht),vt=function(e,t){return Object(Xe.a)({src:[e]},t)};!function(e){e[e.Player=0]="Player",e[e.Bug=1]="Bug",e[e.CrabBug=2]="CrabBug",e[e.HelmetBug=3]="HelmetBug",e[e.PincerBug=4]="PincerBug",e[e.SonicBug=5]="SonicBug"}(Te||(Te={}));var gt={NEW_GAME:"newgame",GAMEOVER:"gameover",YOU_WIN:"youwin",LEVEL_WIN:"levelwin",PAUSE:"pause",UNPAUSE:"unpause",NEXT_LEVEL:"nextlevel"},yt={MENU:"game-menu",GAME:"game-main",END:"game-end",SUMMARY:"game-main-summary"},At=(De={},Object(Ye.a)(De,yt.MENU,vt(ze.a,{volume:.8})),Object(Ye.a)(De,yt.GAME,vt(Ze.a,{volume:.4})),Object(Ye.a)(De,yt.END,vt($e.a,{volume:.8})),Object(Ye.a)(De,yt.SUMMARY,vt(tt.a,{volume:.8})),De),Et=(Ve={},Object(Ye.a)(Ve,gt.GAMEOVER,vt(it.a)),Object(Ye.a)(Ve,gt.LEVEL_WIN,vt(at.a)),Object(Ye.a)(Ve,gt.NEXT_LEVEL,vt(ct.a)),Object(Ye.a)(Ve,gt.YOU_WIN,vt(st.a)),Object(Ye.a)(Ve,gt.NEW_GAME,vt(dt.a)),Object(Ye.a)(Ve,gt.PAUSE,vt(pt.a)),Object(Ye.a)(Ve,gt.UNPAUSE,vt(ft.a)),Ve),bt=function(e){return function(t){t.entity;var n=t.system,o=Object(We.a)(t,["entity","system"]),s=n.getEntityModel(t.entity);return i.createElement(e,Object.assign({},o,{model:s,system:n}))}},Ct=function(e){var t=Object(i.useState)(e.animations),n=Object(G.a)(t,2),o=n[0],s=(n[1],Object(i.useState)(e.currentFrame||function(e){return e.animations[e.currentState][0].frame}(e))),r=Object(G.a)(s,2),a=r[0],u=r[1],c=Object(i.useState)(e.currentState),l=Object(G.a)(c,2),d=l[0],m=l[1],p=Object(i.useState)([]),h=Object(G.a)(p,2),f=h[0],v=h[1];if(e.currentState!==d){var g=function(e,t){f.push(setTimeout(function(){return u(e)},t))},y=0;m(e.currentState),o[d].forEach(function(e){var t=e.frame,n=e.duration;g(t,y),y+=n});var A=setTimeout(function(){e.onFinished(d)},y);v(f.concat(A))}return{currentFrame:a,setCurrentState:m}},St=function(e,t){return{frame:e,duration:t}};var Rt=function(e){return Object(i.useEffect)(function(){var t=function(t,n){var i=wt(n.id,"death");e.system.audio.playSound(i)},n=function(t){var n=wt(t.id,"shoot");e.system.audio.playSound(n)};return e.system.events.registerListener("dead:*",t),e.system.events.registerListener("attack:*",n),g(e.sounds).map(function(t){var n=wt(e.entity.id,"".concat(t));e.system.audio.registerSound(n,{src:[e.sounds[t]],volume:.2})}),function(){e.system.events.unRegisterListener("dead:*",t),e.system.events.unRegisterListener("attack:*",n),g(e.sounds).map(function(t){var n=wt(e.entity.id,"".concat(t));e.system.audio.unRegisterSound(n)})}},[])};function wt(e,t){return"entity-".concat(e,":").concat(t)}var Ot=function(e){return Object(i.useEffect)(function(){function t(t,n){e.onCollision&&-1!==t.state.collisions.indexOf(e.entity.id)&&e.onCollision(t,n)}return e.system.events.registerListener(q,t),function(){e.system.events.unRegisterListener(q,t)}},[])};function Nt(e){return function(t){var n=i.useState(function(){return!1}),o=Object(G.a)(n,2),s=o[0],r=o[1],a=i.useState(function(){return!1}),u=Object(G.a)(a,2),c=(u[0],u[1],Ct({animations:e.animations,currentState:e.currentState,onFinished:function(e){"death"===e&&r(!0)}})),l=c.currentFrame,d=c.setCurrentState;Rt({entity:t.model,system:t.system,sounds:e.sounds}),Ot({entity:t.model,system:t.system,collisionGroup:e.collisionGroup,onCollision:function(n,i){e.handleCollision&&e.handleCollision(t.model,n,i);t.model.health.value=0,d("death")}});var m={position:"absolute",backgroundImage:"url(".concat(l,")"),backgroundSize:"contain",backgroundPosition:"center",width:"64px",height:"64px",left:s?-9999:t.model.position.x,top:s?-9999:t.model.position.y,display:function(e){return e?"none":""}(s)};return i.createElement("div",{id:e.elementId,className:"sprite",style:m})}}var Ft,Ut=n(38),jt=n.n(Ut),kt=n(18),Pt=n.n(kt),It=bt(Nt({elementId:"player",currentState:"normal",animations:{normal:[St(n(59),0)],death:[St(n(60),0),St(n(61),100),St(n(62),100),St(n(63),100),St(n(64),75)]},sounds:{shoot:jt.a,death:Pt.a},collisionGroup:"player"})),Lt=n(9),xt=n.n(Lt),Bt=n(39),Mt=n.n(Bt),Gt=Nt({elementId:"enemy",animations:{normal:[St(n(65),0)],death:[St(n(12),0),St(n(13),100),St(n(14),100),St(n(15),100),St(n(16),100),St(n(17),75)]},sounds:{shoot:xt.a,death:Mt.a},currentState:"normal",collisionGroup:"enemy"}),Kt=n(40),Qt=n.n(Kt),Dt=Nt({elementId:"enemy",animations:{normal:[St(n(66),0)],death:[St(n(12),0),St(n(13),100),St(n(14),100),St(n(15),100),St(n(16),100),St(n(17),75)]},sounds:{shoot:xt.a,death:Qt.a},currentState:"normal",collisionGroup:"enemy"}),Vt=n(41),Tt=n.n(Vt),Wt=Nt({elementId:"enemy",animations:{normal:[St(n(67),0)],death:[St(n(12),0),St(n(13),100),St(n(14),100),St(n(15),100),St(n(16),100),St(n(17),75)]},sounds:{shoot:xt.a,death:Tt.a},currentState:"normal",collisionGroup:"enemy"}),Ht=n(42),Yt=n.n(Ht),Xt=Nt({elementId:"enemy",animations:{normal:[St(n(68),0)],death:[St(n(12),0),St(n(13),100),St(n(14),100),St(n(15),100),St(n(16),100),St(n(17),75)]},sounds:{shoot:xt.a,death:Yt.a},currentState:"normal",collisionGroup:"enemy"}),qt=Nt({elementId:"enemy",animations:{normal:[St(n(69),0)],death:[St(n(12),0),St(n(13),100),St(n(14),100),St(n(15),100),St(n(16),100),St(n(17),75)]},sounds:{shoot:xt.a,death:Pt.a},currentState:"normal",collisionGroup:"enemy"}),zt=(Ft={},Object(He.a)(Ft,Te.Player,It),Object(He.a)(Ft,Te.Bug,Gt),Object(He.a)(Ft,Te.CrabBug,Dt),Object(He.a)(Ft,Te.HelmetBug,Wt),Object(He.a)(Ft,Te.PincerBug,Xt),Object(He.a)(Ft,Te.SonicBug,qt),Ft),Jt=function(e){var t=zt[e];return function(e){e.entity;var n=e.system,o=Object(We.a)(e,["entity","system"]),s=n.getEntityModel(e.entity);return i.createElement(t,Object.assign({},o,{model:s,system:n}))}};function Zt(e,t){var n=[],i=0,o=0,s=!0,r=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var l=u.value,d=!0,m=!1,p=void 0;try{for(var h,f=l[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var v=h.value;if(0!==v){var g={width:64,height:64},y={x:i*g.width,y:o*g.height},A=Qe(e,v,JSON.stringify(y),y,g);n.push({component:Jt(v),entity:A})}i++}}catch(E){m=!0,p=E}finally{try{d||null==f.return||f.return()}finally{if(m)throw p}}i=0,o++}}catch(E){r=!0,a=E}finally{try{s||null==c.return||c.return()}finally{if(r)throw a}}return n}function _t(e){return function(t){t.currentTarget.blur(),e(t)}}var $t=function(e){function t(){var e,n;Object(r.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=Object(je.a)(this,(e=Object(ke.a)(t)).call.apply(e,[this].concat(o)))).lastLoop=(new Date).getMilliseconds(),n.count=1,n.fps=0,n.throttled=!1,n.state={value:0},n.countFps=function(){var e=(new Date).getMilliseconds();return n.lastLoop>e?(n.fps=n.count,n.count=1):n.count+=1,n.lastLoop=e,n.fps},n.loop=function(){n.handler=requestAnimationFrame(function(){n.setFps(n.countFps()),n.loop()})},n.setFps=function(e){n.throttled||(n.setState({value:e}),n.throttled=!0,n.handler=setTimeout(function(){n.throttled=!1},n.props.updateFrequency))},n}return Object(Pe.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setFps(this.countFps()),this.loop()}},{key:"componentWillUnmount",value:function(){this.handler&&cancelAnimationFrame(this.handler)}},{key:"render",value:function(){return i.createElement("div",{id:"fps"},"Fps: ",this.state.value)}}]),t}(i.Component);$t.defaultProps={updateFrequency:500};var en=bt(function(e){return i.createElement("pre",null,(t=e.model,JSON.stringify(t,null,"  ")));var t}),tn=function(e){var t=Object(i.useState)(0),n=Object(G.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(!1),a=Object(G.a)(r,2),u=a[0],c=a[1],l=Object(i.useState)(!1),d=Object(G.a)(l,2),m=d[0],p=d[1],h=function(){return p(!1)},f=function(){m||c(!u),h()};return i.createElement(Le.a,null,i.createElement("div",{id:"devscreen",className:"container"},i.createElement("div",{id:"header"},i.createElement("span",{className:"float-left title",onMouseUp:f,onMouseDown:h,onMouseMove:function(){return p(!0)}},i.createElement("h3",null,"Devtools")),i.createElement("i",{id:"close-x",className:"icon close float-right",onClick:f})),i.createElement("div",{className:on(!u&&"hidden")},i.createElement("span",{className:"links"},i.createElement("a",{onClick:function(){return e.nav("intro")}},"Intro")," | ",i.createElement("a",{onClick:function(){return e.nav("menu")}},"Menu")," | ",i.createElement("a",{onClick:function(){return e.nav("game")}},"Game")),i.createElement(nn,e),i.createElement("p",null,"Epoch: ",e.system.epoch),i.createElement($t,null),i.createElement("div",{id:"entity-viewer"},"Entities",i.createElement("select",{onChange:function(e){var t=e.currentTarget.value;s(parseInt(t))}},e.system.getState().entities.map(function(t){var n=e.system.getEntityModel(t).name;return i.createElement("option",{key:t.id,value:t.id},n)})),i.createElement("div",{className:"scrollable p-1"},i.createElement(en,{entity:{id:o},system:e.system}))))))};function nn(e){return i.createElement(i.Fragment,null,i.createElement("button",{className:"btn is-primary",onClick:_t(e.onStart)},"Start"),i.createElement("button",{className:"btn is-error",onClick:_t(e.onStop)},"Stop"),i.createElement("button",{className:"btn is-success",onClick:_t(e.onTick)},"Evolve"),i.createElement("button",{className:"btn",onClick:_t(e.onSave)},"Save"),i.createElement("button",{className:"btn is-warning",onClick:_t(e.onLoad)},"Load"))}function on(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return"string"===typeof e}).join(" ")}n(70);function sn(e){return i.createElement("div",{id:e.id,className:"layout ".concat(e.className)},i.createElement("div",{className:"top left"},e.topLeft),i.createElement("div",{className:"top center"},e.topCenter),i.createElement("div",{className:"top right"},e.topRight),i.createElement("div",{className:"middle left"},e.middleLeft),i.createElement("div",{className:"middle center"},e.middleCenter),i.createElement("div",{className:"middle right"},e.middleRight),i.createElement("div",{className:"bottom left"},e.bottomLeft),i.createElement("div",{className:"bottom center"},e.bottomCenter),i.createElement("div",{className:"bottom right"},e.bottomRight),i.createElement("div",{className:"background"},e.background),i.createElement("div",{className:"gamescreen"},e.children),e.after)}var rn=function(e){function t(){return Object(r.a)(this,t),Object(je.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.nav("menu")}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.createElement(sn,{id:"intro",className:"game-screen"})}}]),t}(i.Component);n(72);function an(e){return i.createElement("div",{className:"flex rows"},i.createElement("span",null,"1UP"),i.createElement("span",null,e.value))}function un(e){return i.createElement("div",{className:"flex rows"},i.createElement("span",null,"High Score"),i.createElement("span",{className:"center-text"},e.value))}function cn(e){return i.createElement("span",null,"Credits ",e.value)}function ln(e){return i.createElement("p",null,e.value?"Level: ".concat(e.value):"")}function dn(e){return i.createElement("button",{className:"btn is-success",onClick:e.onClick},"Restart")}function mn(e){return i.createElement(sn,{id:e.id,className:on(e.className,"retro-container"),topLeft:i.createElement(an,{value:e.lives}),topCenter:i.createElement(un,{value:e.score}),topRight:i.createElement(ln,{value:e.level}),bottomLeft:i.createElement(cn,{value:e.credits}),background:e.background,bottomRight:i.createElement(dn,{onClick:e.onRestart})},e.children)}n(20),n(75);var pn=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}),i.createElement("div",{id:"logo-container",className:"slide-up"},i.createElement("div",{id:"logo"})))},hn=function(e){return Object(i.useEffect)(function(){var t=function(t){t.keyCode===x.ENTER&&e()};return document.addEventListener("keypress",t),function(){document.removeEventListener("keypress",t)}},[])};function fn(e){var t=Object(i.useState)(!1),n=Object(G.a)(t,2),o=n[0],s=n[1];function r(){setTimeout(function(){e.system.audio.playSound(gt.LEVEL_WIN)},750),setTimeout(function(){e.system.events.emit(V)},2e3)}return Object(i.useEffect)(function(){setTimeout(function(){return s(!0)},3e3)},[]),Object(i.useEffect)(function(){return e.system.audio.playSong(yt.MENU),function(){e.system.audio.stopSong(yt.MENU)}},[]),hn(y(r)),i.createElement(mn,{id:"gui",className:"menu",score:0,credits:0,lives:0,background:i.createElement(pn,null),onRestart:r},i.createElement("div",{className:"screen menu"},i.createElement("div",{id:"press-enter",className:"center-content"},i.createElement("p",{className:on(!o&&"hidden","fade-in","neon","retro-red"),onMouseUp:r},i.createElement("span",null,"Press Enter")))),i.createElement("div",{className:"overlay"},"AV-1"))}var vn=n(19);var gn=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}))},yn=function(e){function t(){return Object(r.a)(this,t),Object(je.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return i.createElement("div",{className:"screen level"},this.props.children)}}]),t}(i.PureComponent);function An(e){var t=function(e){return{position:"absolute",outline:"1px solid white",borderRadius:"25%",height:"32px",width:"0px",left:e.model.position.x+30,top:e.model.position.y,display:(t=e.model,t.offscreen?"none":"")};var t}(e);return i.createElement("div",{id:"bullet",className:"sprite",style:t})}var En=function(e){return function(t){function n(){var t,i;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(i=Object(je.a)(this,(t=Object(ke.a)(n)).call.apply(t,[this].concat(s)))).state={enemyPositions:e.enemyPositions,levelId:e.levelId,enemies:[],enemiesDead:0,ready:!1},i.countDeath=function(){i.setState(function(e){return{enemiesDead:e.enemiesDead+1}})},i.onLevelComplete=y(function(t,n){t.events.emit(e.completeEvent||Y,n),clearInterval(i.interval)}),i.enemyFree=function(){var e,t=(e=i.state.enemies.map(function(e){return e.entity}))[Math.floor(Math.random()*e.length)],n=i.props.system.getEntityComponent(t,"controls");n&&(n.state.disabled=!1)},i.enemyGroup=function(){},i.startFreeEnemyInterval=function(){i.interval=setInterval(function(){i.props.system.events.emit(J)},8e3)},i}return Object(Pe.a)(n,t),Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.enemyPositions,t=this.props,n=t.system,i=(0,t.loadLevel)(n,e);this.setState({enemies:i,ready:!0}),n.events.registerListener(z,this.countDeath),n.events.registerListener(J,this.enemyFree),n.events.registerListener("enemy:group",this.enemyGroup),n.events.registerListener(H,this.startFreeEnemyInterval)}},{key:"componentDidUpdate",value:function(e,t){t.ready&&t.enemiesDead===t.enemies.length&&this.onLevelComplete(this.props.system,this.state.levelId)}},{key:"componentWillUnmount",value:function(){var e=this.props.system;clearInterval(this.interval),e.events.unRegisterListener(z,this.countDeath),e.events.unRegisterListener(J,this.enemyFree),e.events.unRegisterListener("enemy:group",this.enemyGroup),e.events.unRegisterListener(H,this.startFreeEnemyInterval),this.state.enemies.forEach(function(t){return e.unRegisterEntity(t.entity.id)})}},{key:"render",value:function(){var e=this.props.state,t=e.player,n=e.bullet1,o=e.bullet2,s=e.system;return i.createElement(yn,null,i.createElement(It,{entity:t,system:s}),i.createElement(An,{model:n}),i.createElement(An,{model:o}),this.state.enemies.map(function(e){var t=e.component;return i.createElement(t,{key:e.entity.id,entity:e.entity,system:s})}))}}]),n}(i.Component)};var bn={demo:{level:En({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,0,0],[0,0,0,1,0,1,0,1,0,0,0,0]],levelId:"Demo"}),next:"level1"},level1:{level:En({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]],levelId:"1"}),next:"level2"},level2:{level:En({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]],levelId:"2"}),next:"level3"},level3:{level:En({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,5,5,5,5,5,5,0,0,0],[0,0,0,3,3,0,0,3,3,0,0,0],[0,0,1,1,1,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,1,1,1,0,0]],levelId:"3"}),next:"level4"},level4:{level:En({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0]],levelId:"4",completeEvent:T}),next:"end"},end:{level:function(e){var t=e.state,n=t.player,o=t.system;return i.createElement(yn,null,i.createElement(It,{entity:n,system:o}))},next:"demo"}},Cn={demo:"Demo",level1:"1",level2:"2",level3:"3",level4:"4",end:"End"};function Sn(e){var t=function(e){var t=i.useState(5),n=Object(G.a)(t,2),o=n[0],s=n[1],r=i.useState(!1),a=Object(G.a)(r,2),u=a[0],c=a[1];return i.useEffect(function(){s(5),c(!1);for(var t=function(e){setTimeout(function(){return s(5-e)},1e3*e)},n=0;n<=5;n++)t(n);setTimeout(function(){c(!0),e.onReady()},5e3)},[e.level]),{time:o,ready:u}}(e),n=t.time,o=t.ready;return i.createElement("div",{className:on("center-content","absolute-fit",o?"fadeout":"fadeout-visible")},i.createElement("p",{className:"neon green"},i.createElement("span",null,n)))}function Rn(e){e.levels;var t=Object(We.a)(e,["levels"]),n=i.useState(!1),o=Object(G.a)(n,2),s=(o[0],o[1]),r=i.useState(t.currentLevel),a=Object(G.a)(r,2),u=a[0],c=a[1],l=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn)[e].level}(t.currentLevel);i.useEffect(function(){t.system.events.emit(W),c(t.currentLevel),s(!1)},[t.currentLevel]);return i.createElement(i.Fragment,null,i.createElement(l,Object.assign({loadLevel:Zt},t)),i.createElement(Sn,{level:u,onReady:function(){t.system.events.emit(H,u),s(!0)}}))}function wn(e){return hn(y(e.onNextLevel)),i.createElement("div",{className:"complete container with-title is-center is-dark fade-in"},i.createElement("label",{className:"title"},"Level ".concat(Cn[e.currentLevel]," Complete")),i.createElement("p",null,"Score:  ".concat(e.state.score)),i.createElement("p",null,"Shots:  ".concat(e.state.shots)),i.createElement("p",null,"Hits:   ".concat(e.state.hits)),i.createElement("p",null,"Ratio:  ".concat(Math.round(e.state.hits/e.state.shots*100),"%")),i.createElement("button",{className:"btn is-primary",onClick:e.onNextLevel},"Press Enter"))}var On=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(je.a)(this,Object(ke.a)(t).call(this,e))).state={score:0,credits:1,lives:3,shots:0,hits:0,complete:!1,completed:[],currentLevel:"level1"},n.registerEvents=function(){n.props.system.events.registerListener(W,n.handleLevelLoading),n.props.system.events.registerListener(H,n.handleLevelBegin),n.props.system.events.registerListener(Y,n.handleLevelComplete),n.props.system.events.registerListener(z,n.handleEnemyDeath),n.props.system.events.registerListener(q,n.handleBulletCollisions),n.props.system.events.registerListener(T,n.handleGameOver)},n.unRegisterEvents=function(){n.props.system.events.unRegisterListener(W,n.handleLevelLoading),n.props.system.events.unRegisterListener(H,n.handleLevelBegin),n.props.system.events.unRegisterListener(Y,n.handleLevelComplete),n.props.system.events.unRegisterListener(z,n.handleEnemyDeath),n.props.system.events.unRegisterListener(q,n.handleBulletCollisions),n.props.system.events.unRegisterListener(T,n.handleGameOver)},n.handleBulletCollisions=function(){var e=n.props,t=e.bullet1,i=e.bullet2;if(t.collisions.length||i.collisions.length){var o=Object(vn.a)(t.collisions).concat(Object(vn.a)(i.collisions));Object(vn.a)(new Set(o)).map(h).forEach(n.killEntity)}},n.getBullet=function(){return f([n.props.bullet1,n.props.bullet2].filter(function(e){return!!e.offscreen}))},n.fireBullet=function(e){var t=n.getBullet();t&&(t.position.x=e.x,t.position.y=e.y,n.reviveEntity(t,1),n.setState(function(e){return Object(s.a)({},e,{shots:e.shots+1})}),n.props.system.events.emit(X,n.props.player))},n.killEntity=function(e){var t=n.props.system.getEntityComponent(e,"health");void 0!==t&&(t.state.health.value=0)},n.reviveEntity=function(e,t){var i=n.props.system.getEntityComponent(e,"health");void 0!==i&&(i.state.health.value=t)},n.handleEnemyDeath=function(e){var t=n.props.system.getEntityComponent({id:e.entityId},"loot");if(void 0!==t){var i=t.state.loot.points;n.setState(function(e){return{score:e.score+i,hits:e.hits+1}})}},n.handleLevelLoading=function(){n.props.system.events.emit(_);var e=n.props.system.getState().components.filter(function(e){return"position"===e.name}),t=n.props.system.getState().components.filter(function(e){return"homePosition"===e.name});e.forEach(function(e){e.state.controllable=!1}),t.forEach(function(e){e.state.goHome=!0}),n.props.system.events.emit(Z)},n.handleLevelBegin=function(){n.props.system.events.emit(Z);var e=n.props.system.getState().components.filter(function(e){return"position"===e.name}),t=n.props.system.getState().components.filter(function(e){return"homePosition"===e.name});e.forEach(function(e){e.state.controllable=!0}),t.forEach(function(e){e.state.goHome=!1})},n.handleLevelComplete=function(e){n.props.system.audio.stopSong(yt.GAME),setTimeout(function(){n.props.system.audio.playSound(gt.LEVEL_WIN)},750),setTimeout(function(){n.props.system.audio.playSong(yt.SUMMARY),n.setState(function(t){return{complete:!0,completed:t.completed.concat(e)}})},1500)},n.handleGameOver=function(){n.props.system.audio.stopSong(yt.GAME),setTimeout(function(){n.props.system.audio.playSound(gt.LEVEL_WIN)},1500),setTimeout(function(){n.props.system.audio.playSound(gt.GAMEOVER)},2250),setTimeout(function(){n.props.onFinalScore(n.state)},3e3)},n.startNewGame=function(){n.props.system.audio.playSound(gt.NEW_GAME),setTimeout(function(){return n.setState({currentLevel:"level1"})},5)},n.onNextLevel=function(){n.props.system.audio.stopSong(yt.SUMMARY),setTimeout(function(){n.props.system.audio.playSound(gt.NEXT_LEVEL)},350),setTimeout(function(){var e=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn)[e].next}(n.state.currentLevel);n.setState({currentLevel:e,complete:!1})},1200),setTimeout(function(){n.props.system.audio.playSong(yt.GAME)},3e3)},n.registerEvents(),n}return Object(Pe.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.system.audio.playSong(yt.GAME)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player.attacking&&e.player.attacking&&this.fireBullet(this.props.player.center)}},{key:"componentWillUnmount",value:function(){this.props.system.audio.stopSong(yt.GAME),this.unRegisterEvents()}},{key:"render",value:function(){var e=this.state,t=e.currentLevel,n=e.score,o=e.credits,s=e.lives;return i.createElement(mn,{id:"gui",className:"game",level:Cn[t],score:n,credits:o,lives:s,onRestart:this.props.onRestart,background:i.createElement(gn,null)},i.createElement(Rn,{currentLevel:t,state:this.props,system:this.props.system}),this.state.complete?i.createElement("div",{className:"center-content absolute-fit"},i.createElement(wn,{currentLevel:t,state:this.state,onNextLevel:this.onNextLevel})):null)}}]),t}(i.PureComponent);n(77);var Nn=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}),i.createElement("div",{id:"gameover-container",className:"slide-up"},i.createElement("div",{id:"gameover"})))};function Fn(e){var t=Object(i.useState)(!1),n=Object(G.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)({}),a=Object(G.a)(r,2),u=a[0],c=a[1];return Object(i.useEffect)(function(){return e.system.audio.playSong(yt.END),function(){e.system.audio.stopSong(yt.END)}},[]),Object(i.useEffect)(function(){if(e.final)try{c(e.final)}catch(n){}var t=setTimeout(function(){return s(!0)},3e3);return function(){clearTimeout(t)}},[]),hn(y(function(){e.nav("game")})),i.createElement(mn,{id:"gui",className:"gameover",score:u.score,credits:u.credits,lives:u.lives,background:i.createElement(Nn,null),onRestart:function(){e.nav("menu")}},i.createElement("div",{className:"screen menu"},i.createElement("div",{id:"press-enter",className:"center-content"},i.createElement("p",{className:on(!o&&"hidden","fade-in")},"Press Enter to Play Again"))))}function Un(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(p({id:o,entityId:t.id,name:"controls",state:{direction:n.direction,moving:n.moving,speed:n.speed,disabled:!!n.disabled},update:function(e,n){jn(t,n,e,"vertical"),jn(t,n,e,"horizontal"),function(e,t,n){var i=t.state.direction,o=i.x,s=i.y;t.state.moving=0!==o||0!==s}(0,n)}}))}}function jn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"horizontal";if(!t.state.disabled){var o="horizontal"===i?"x":"y",s="horizontal"===i?[n.input.KeyCodes.LEFT,n.input.KeyCodes.RIGHT]:[n.input.KeyCodes.UP,n.input.KeyCodes.DOWN],r=Object(G.a)(s,2),a=r[0],u=r[1];n.input.keyPressed(u)?t.state.direction[o]=1:n.input.keyPressed(a)?t.state.direction[o]=-1:t.state.direction[o]=0}}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"player 1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"friendly";return function(e,t){var n=e.registerEntity();return Ke(e,n,t,[ie,ee,ne,le,Ae,D,se,ae,ge,Un,Re]),n}(e,{name:t,texture:Te.Player,health:{value:100,immortal:!1},attackPower:10,speed:{y:0,x:6},position:{x:400,y:475},direction:{x:0,y:0},geometry:{width:64,height:64},moving:!1,attacking:!1,boundary:R,collisionGroup:n,homePosition:{x:400,y:475}})}function Pn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-100;return function(e,t){var n=e.registerEntity();return Ke(e,n,t,[ie,ne,le,me,ae,pe]),n}(e,{name:t,momentum:{direction:{x:0,y:-1},speed:arguments.length>3&&void 0!==arguments[3]?arguments[3]:8},position:{x:n,y:440},geometry:{width:2,height:32},collisionGroup:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"friendly"})}var In=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(je.a)(this,Object(ke.a)(t).call(this,e))).gameAudioInitialize=function(){g(At).forEach(function(e){n.system.audio.registerSong("".concat(e),Object(s.a)({},At[e],{volume:.6}))}),g(Et).forEach(function(e){n.system.audio.registerSound("".concat(e),Object(s.a)({},Et[e],{volume:.3}))})},n.gameAudioCleanup=function(){g(At).forEach(function(e){n.system.audio.unRegisterSong("".concat(e))}),g(Et).forEach(function(e){n.system.audio.unRegisterSound("".concat(e))})},n.moUntWOrld=function(){n.setState({epoch:n.system.epoch})},n.tick=function(){n.system.step(),n.setState(function(e){return{epoch:n.system.epoch,player:n.system.getEntityModel(n.player),bullet1:n.system.getEntityModel(n.bullet1),bullet2:n.system.getEntityModel(n.bullet2)}})},n.startNewGame=function(){n.gotoScreen("game")},n.start=function(){n.stop(),n._update()},n._update=function(){n.handler=requestAnimationFrame(n._update),n.tick()},n.stop=function(){n.handler&&cancelAnimationFrame(n.handler)},n.save=function(){n.system.storage.saveGame()},n.load=function(){n.stop(),n.system.storage.loadGame(),n.moUntWOrld(),n.start()},n.restart=function(){n.gotoScreen("menu")},n.gotoScreen=function(e){n.setState({screen:e})},n.setFinalScore=function(e){n.setState(function(t){return Object(s.a)({},t,{final:e})})};var i=e.system;return n.system=i,n.player=kn(i,"Odin"),n.bullet1=Pn(i,"Bullet of Destiny"),n.bullet2=Pn(i,"Bullet of Greater Truth"),n.state={epoch:i.epoch,player:i.getEntityModel(n.player),bullet1:i.getEntityModel(n.bullet1),bullet2:i.getEntityModel(n.bullet2),final:void 0,screen:"intro",system:i},n.gameAudioInitialize(),i.events.registerListener(V,n.startNewGame),i.events.registerListener(Z,n.start),i.events.registerListener(_,n.stop),n}return Object(Pe.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.moUntWOrld(),this.start()}},{key:"componentWillUnmount",value:function(){this.gameAudioCleanup(),this.system.events.unRegisterListener(V,this.startNewGame),this.system.events.unRegisterListener(Z,this.start),this.system.events.unRegisterListener(_,this.stop),this.stop(),delete this.handler}},{key:"render",value:function(){return i.createElement("div",{className:"App container with-title is-center is-dark"},i.createElement("label",{className:"title"},"Galaga.ts"),"intro"===this.state.screen?i.createElement(rn,Object.assign({onPlayerInput:this.startNewGame,nav:this.gotoScreen},this.state)):null,"menu"===this.state.screen?i.createElement(fn,Object.assign({system:this.system},this.state)):null,"game"===this.state.screen?i.createElement(On,Object.assign({system:this.system,onRestart:this.restart,onFinalScore:this.setFinalScore,nav:this.gotoScreen},this.state)):null,"end"===this.state.screen?i.createElement(Fn,Object.assign({system:this.system,nav:this.gotoScreen},this.state)):null,i.createElement(tn,{system:this.system,onStart:this.start,onStop:this.stop,onTick:this.tick,onSave:this.save,onLoad:this.load,nav:this.gotoScreen}))}}]),t}(i.PureComponent);o.render(i.createElement(In,{system:Ue}),document.getElementById("root"))}],[[43,2,1]]]);
//# sourceMappingURL=main.862b60e7.chunk.js.map