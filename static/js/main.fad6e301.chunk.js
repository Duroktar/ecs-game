(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/sfx_wpn_laser1.7c857ee1.wav"},,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAjklEQVRYR+2WQQrAIAwENz9p/v+o9CeWQANSvLiUBsp6FExmJyIampc194cAZEAGZOA/BiJiuPt2oO0D9XSzDZ9PPw2QhRLicMcZASZ91qAAKv0ARjZPCAOMsUIBzGMoA7nHWKAAKmmN4Fb5rYEZgk1P34HVJ4aZ/6sA7M+KugNss9U5AciADMiADLQbuADnnjshOGarxwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA4UlEQVRYR+2UwQ3EMAgEoZPQf1G4E59AwUK+ewCXyB/8ipSEXQYvCIcPHtaHNtAEmsAjBJh5ElGpVumnfwT3vZMyMCdMKYAIaCa8GXkv7zLLLfWxFPYiu4nXDXwJwk0Ecl17QmECO2orYuO4iGAwg1zGCTAxaCpswASl+OpAnlyFqGiJgP9JLyOCdnxdpCZMPJuQMAHDKgKCe+tC62TFNVGZyKwx3HEcg8HMrPkno5gyoN0Lcnf8TrCY2q6INJcy8IuAreAK/voIXMyqwivGEUxvflMawZOG2kATaAJN4DiBDzrKfCHGS/waAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABAklEQVRYR+2VSw4DIQhA4Sbj/Q/lUWyw0jCIBWya2dhNMz95Pj4iPPzDh+PDATgGjgHXQK21lVKm9/T9BtAQ8l3lAsg5IYO2Bg0RUN7bgUoBEAzvVO6YYOgZAdH/ypo19EIAt513hjcJB+yXw0g2FSEAi9xLQdRCCsCqAUt5NHhPm3cYkdLx4pTfVdGxHW/tEAAvEln0U6BGh6xgXAPywxXEt1b0LLgAOu+cNBo6mVz/bICDZSxEAF0DFjkvbBUhF2ykZsJFqANNgcUQ+gsAW6DA11X6pTUFvYLbHsW6FXn2axAdIJIGtwZuh844cnW/Zw8gCeoC7GjNfHMAjoFj4HEDL4r0ziE3SigHAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABW0lEQVRYR91WWw7EIAjEm9T7H8rexA1NbCzyGNwmm2z/2iIMwzha6MdP+XF9ggB0ol4Ii802BAHIJs3EpwH0Tp0LlPJkpLXWa61Lvoi9NACtO1k8KjrnCAFYnXES7Z8Xr4EPAYxFSGIkRoJQAVhzHotnineKqiOIEjGoIbxoxhmA7ggGKI0R/ncc9WrmBjaBRLcirIEooWTQYlR+fw3ArQ/hE9FoHwDkbPn9bI00g/EYmfWiCdf1gRlxJDZOhAjOY8EcgdZFRKcEFOnmErAVNAAgRT17jjzlAWC3GNKpNU6bAecO4G0xBiNFu6UBpCsrJsNkqAHr1NOKS+EiQMzDaNird9ZfdlwrK/nKo+5/4wIzGkg5IbozEP+AACzO2Kmf5+qMu56x+ADiatYFZfd2lBqBFJ5WVGPD21EwAETRlhBfAWBRv+P/7mn4jQHtrIVHgCRHx/S/DCAsyZgPlF0MMIC1WsUAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEElEQVRYR81XWxLDIAiEo+T+h9Kb2DEdM2pFF3yk/Q3iviAN08QvEAUm4okW+OEQKDBj9c65cF2XCCx//hSNDmkAaBQpUKKXjMBKAFrnpvzTMJVquwBiyLxz1PMzNkaVa4F4TYEEeisAJCvwFCT5kKaabGxVIAci5eQYANMUaKQs2CpWtKjAij2PEIAsmJlzCUQiCAFAmFhrOLKLh9E3neYiZGR/FNjpfSTrfbnaj1rQytJRAH/1Mkpgmgog4dGEsVf7igV5Fvgk2+MZQMiZLFi5mk0AVgXw3sCtZrV0iJRWUGoFRmDq5/Vqr+27AfT2/0q/k0rFGFqls/4Dqu97LNjBNL9Msu5rgeLLd4VieY8P2WaPIboXUNsAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAs0lEQVRYR+2XSw6AMAgF4SZy/0P1KBiMIDV+YuKzLnCljSnTwZgHU7qUSJmI8xr6viuGArjaNwDsJT8twsLZ/h0AayNlsR683obFwsH+XaHWmorI68XNrBswCOKtxmcA+WPOBx0CYDAOMQzAISD9fvLvKIAyUAbKQBkoA2XgPwZQkfwuG/SpGJCG9wARTtdaCwByJrDslyFksnwusRQAyJlgP/7Zs88e0QLkTHD1HRTAcAMzqEdXu+U9kUQAAAAASUVORK5CYII="},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_long1.e65a7e8b.wav"},,,,,,,function(e,t,n){},,,,,function(e,t,n){e.exports=n.p+"static/media/game-menu.277a07d7.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-main.62197df4.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-end.4f698af1.mp3"},function(e,t,n){e.exports=n.p+"static/media/game-main-summary.430d3f4f.mp3"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_fanfare1.aae78736.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_powerup3.da47f034.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_fanfare3.25f989ff.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_powerup2.35e9b099.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_interaction1.60988248.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_pause1_in.b7b7a7b9.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_sounds_pause1_out.959daf2a.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_wpn_cannon1.75bcd782.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_short_soft5.c6e20b31.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_short_hard12.ffa98eb5.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_cluster1.7a7460e6.wav"},function(e,t,n){e.exports=n.p+"static/media/sfx_exp_odd1.6d3db534.wav"},,,,,function(e,t,n){e.exports=n(92)},,,,,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/ship.8745c391.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABvElEQVRYR+1XW5LDIAwjN1nufyj2Jt6BYlYYv5LpTH/an6YktYQsY+cqH/5c78RvrVGt9VbMWw8PstRofF8CqK/3Neu+sdM8ARkYf8/r9vtCGSowoUDimIAA7jIvEFaEd26p4pDwCcAuqBS6SokJT7BF9EdJFxAKCdBVO2oaeIiCZINU2IGp0QI3gpiqcNo0s4p0uASW0+8SQG/I6xQBatQd3d3s1balwJECRwldAahpJiKN3EF4LeMRayOuuaLdZwhEhrQVUGTDYJoCrin5jBB+OghEu2a5nxBYsYHEqcC8qe2G1xAc0+Caktp//zAJYEOZkknZuwIZAgcZJfbI8ubuBIGofWOK1OqwPMBnNwNwX7eMZxHxCGj+eingnNde3j0S2cNIJyC6YCR7pAbftxUopWAKKrRQWW6aAWUlyAOKgV0CKxXz39wJGVDWP1cDVoX2TA+3AUcH0TbTYUtWdPaGFPTOIJYqQwA5Rq+HRnjWCxBMm3K1AVXOg8mZIBzJeCjxjmZZytI3Xn+JZz1lKt5ePsBU2yCKKmrqzPsxAQ7kvXDgDNhdj+8HgXfyBBImfGLctxJIcDwe+RL4A6hvfDDjUhdcAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACBUlEQVRYR8VXQXLEIAyDnyz/fxT7EzpmMRXCBmdmO82lmSTFsizZ3pz++cozfqut3+fy++yvwEGsPZi8PIFAoHrPwE9nUKJ2th4bGNBiB4C3lFpOaWeYwPp0jyyWgxhALnm+t0AzWwaz53ojlXDYElQO9UoxWKq1tlJsbcVLMILUd0r9sFs5gGoBoBVjIDHFKxNWUGSA2Qi4agNwFQ+A6Gy8gl51nOX3ASNbCWhdQivS/Col5VY/PYXFSXo5a0ApHCXQIFpHDCqfKhBhpeULiMGI3Yg0TchAxaeK5r/yLxMgluXEQi7ZB0CCYvpntoN+LkPXhmFRtmQYgBy2ZDgoFNG+a/1YE33P4ryKENUV6fdAOQtzgrk0qC6xTdVGcBGUZImXUi6KZwZUD5tFQ62YUbfaGADTLQG79VJa7OjpABM5u0BrOvyPQruJsNtSdWA5YZx97wPQC9QJGJxLqEJdSnPQwmMAFv0WM3P4sB1xhG8idMavtlNsRpYgl2dGYKuN31cyZyZMisHvAnB5bu0KtK7Fx3Fw6M3PDsI7u0DeehMsMvsNwfEQu9twNIylb0dA4fTU+9Exn61kQoJutZYwuRzWJgQA+ufOqm5qYNuEsYVac8J7T0Ct5fTugqfi46HG/f/oAoemBYPx28DEeDoLWIzZ0MoqAjbA3jMAXwp67wMB5N/65Afslf0wgQfXLAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACd0lEQVRYR51XQYIDIQjTn9T/P8r+ZHaxYEMMs+320tZhAEOC2Ns3n2tey7yPvr7jP/qwZ7we9hzrmtfb0Y2RzFEFutsM+7ck++ivBGI3yqhyWiUQ6330OV+IjYc7wXc8Vk4ggoHhfL4Wx6hhRxsLarb4vZOADV6tGfyAgJXUF7G+5jwc7kSueUXQyBltELSdDKCAcd4ICKhtF48x2nPO9DQl9GjtSIbWFnpM4KjKEdcN2WnAiOuWnH04QWW7kyCeZQQAWoQOg25CeeZcItwQopdQMKOKhEfNBcSMmkrWgvdrrvIwP1AVqaF8Gvxw6Kw/ElP8ID7kjgba5TreBf0kIdv12qCpAWR+m0AFNdc2Gk7IdDcgQGYncIcAluAgUGuNm0wkGOvpf+w4mhKUAwmZOuHuaGgMjiwABlO/EQ1GBJtW9IWjFUedZDLejlW7jVZdlUMFX2pMdfYTagUA0iTyhP79oEmOi2dVcH0aij6PUKrWfEfKePZVI+Ig+yQUHNgHFEnm4EIcRtAFcwnoDIgSlF0P+IBJcOANP88E5TxAg0Q6B4iELMNEQFBStOVlT0PJSUKD2YeQv3bPz0Omav2YivroPheQOSgB2zHzQGlcSTF87EHWFjyGliEhUE06mABPTNiK1/bUMOJrH5UAAygZKjRK7ZcqiDeKWZ/ZXSViblRfSIMMTEUbATWQJna4Oiq4JfFoTkhE9BfuLyaIBsqTegDCHW1cJbRlCA+PqVgiQZeQSqab8az3COjQI0klCVWm8h7oiuExPUmOoODZIXHAdVnfFQo5yalZ3DUD3fNiUlwayjreKYbgLn3sy+l/g6PnT6/jnM3vez/v0LVIfdTdDwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACFUlEQVRYR8VXQY7EIAyDnwz/fxTzE1ahBJnghLLSaudSTVsSx3EMzemff7nnb7X1ay7P/z/81frkKuXJtSRsKbVs7iEWXCzvfmtN5WOASzFeIaTQrWKLUAHI/Z4spVS/O0Va0WQUQChYrFwjUMp7slKyXnvSQV0PMqrG92xwy5bHrNtzlhxBzeeDVmFlYWGUiHGYtF61YKl+MPMpJeVWl5jYGgVj11oQR9VbmjGAMjLpb7UxENFQLQA2uiCgJpPKRf3eT/TR2wHXaLypDyBtJ0tAFuRdBTj1AmPK2uFqQGn1lG5BMoY8ECjWFQChXBlgE+CNqV2DIzoNjDmhWLKOU9QGD4wnUAXAnHYXIZgMqwSrEZB9HMG+t9ZYqzai2jSAFEUz7DFk53/bK0IArbaWn4retAAZwrhsLXNJWfNahCwZc0irg6krpxUUgJpI5HoqqMgpl1F+BcDsehiAjaM1Kc8bepwbAMjA5vewy1mAnhnheNtRnC1Y9gHHD6ztMoYiE2K2/nozWvQQnIwWsWohSj85rh23Y6WPofd2Rq9tRwbkhe1MCAdJfBYJzrol/rcg3BZ4mugBCChv5K6PZMoCO5Tqqbi/M07G3eHgXMhGLgJBzwPo52ihrAX2uev9zvfC1YcJE5F7jyQMt+PTVxEKlO0LC5Dg68iK/DyGEBl939vdrljadsNg9UnNt4n1/SsGfpskWvcD7otZP/TRmLkAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2X3Q2AIAyEj1HYzg2cwQ3crm6CQUFb42/i6Uv7BiHl61GSa4CORhL6GMweeWEvYwGc5F0B8qEaDBUO8hsAaYHYAZRnaCTt5TdPkIAUAE4PFAUmiLj22XcAqpl1ob8AZJYK8RuAgiB/9Iv0nIZ7UJMDuAKugCvgCrgCroB1xQw3fNsPsGaCLUC156XYWQHiTJC9n2YYRGbrX2IBoM4E2/Evr40CyqU+cFOvHF2akDqUnKA6wAgOWExlxHkIvQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAwklEQVRIS+2UUQ7EIAhE4Si9nT3R9nYehQ0IDau1YrPxq8SkPzjPGUgRFhQuYMALmUr5Pq6UCY7tp4cICLGK+aLPv2I8ExVgcZEmAPsKbABg2BjCXSkTHVt5nEH4cspQO73KMQZhbXZSVRNbZ1IxCEfCoI+6YRd7LpLVzJ45UYBALDKLyhQHoPF2OSEqE5FCPu4Bd476EC+gsfi5nJvl8+k4ikH0cuNEN+/k/AOiG0wSlVUgsth2Tf1E2uYXMhXgkri+xNVLFbLUHXYAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAm0lEQVQ4T+2UQRLDIAhF/z+Kh0kPnRwmRyFDFWvRatO6yCJu0AHf8AElJi5OZOGGxWoKIARotlfjumayCxiIZCuY85fwNswiFKrZrRA+UrMU5vz52EzbLjBQQTlYgYXP322PxlTYU1uUI1t4qVr2uE/yv8usiKpkdto5fAF/w96657v5S2Yl0MM/8boyTWKescEXM6zZmS/qurAD5VJKFMb8mZ4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAjUlEQVQ4T9XUwQ2AMAgFUBil+w/VUb5BxRCEFhMucqz15ResTI3FjRb9HQOBeH+K2jE7MNCEDIgxCDzPWTGNNED6wEI68R24xCSRFFjSXaSAWboYkx6ZstizHAxkiwmkpenu5r3efWMu1fKGuHQ5phst7tdKmO9H9J0Fa3GyNixqUscN+Pp7qt3NotqKHVslNhRW8lxOAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(30),s=(n(59),n(5)),r=n(6),a=n(8),u=n(13),c=n(12),l=n(14),d=n(94),m=(n(62),n(64),n(1)),p=(n(66),n(33)),v=n.n(p);function h(e){return function(t,n){var i=t.components.filter(function(t){return i=n,t.id===i.id&&function(e,t){return void 0!==t[e]}(e,t.state);var i});return 0===i.length?null:y(i)}}function f(e){return function(t,n,i){var o=e(t,n);if(null===o)return o;o.state=i}}function g(e){return e}function A(e){return{id:e}}function y(e){return e[0]}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return{next:function(){return e++}}}};function C(e){return Object.keys(e)}function b(e){var t=!1;return function(){if(!t)return t=!0,e.apply(void 0,arguments)}}var S=function(e,t,n){return n<e?e:n>t?t:n},R=function(e){return e&&void 0!==e.state};function w(){var e,t,n,i,o,s=0;return e=Math.random,function(){if(s)o=n*i;else{do{t=2*e()-1,n=2*e()-1,i=t*t+n*n}while(i>=1);i=Math.sqrt(-2*Math.log(i)/i),o=t*i}return s^=1,o}}function O(e,t){var n,i=!1;return function(){return i||(n=e.apply(void 0,arguments),i=!0,setTimeout(function(){i=!1},t)),n}}var N,F={top:0,left:0,bottom:600,right:800};function U(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,name:"name",entityId:t.id,state:{name:n.name},update:function(){return null}}))}}!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Zero=48]="Zero",e[e.ClosedParen=48]="ClosedParen",e[e.One=49]="One",e[e.ExclamationMark=49]="ExclamationMark",e[e.Two=50]="Two",e[e.AtSign=50]="AtSign",e[e.Three=51]="Three",e[e.PoundSign=51]="PoundSign",e[e.Hash=51]="Hash",e[e.Four=52]="Four",e[e.DollarSign=52]="DollarSign",e[e.Five=53]="Five",e[e.PercentSign=53]="PercentSign",e[e.Six=54]="Six",e[e.Caret=54]="Caret",e[e.Hat=54]="Hat",e[e.Seven=55]="Seven",e[e.Ampersand=55]="Ampersand",e[e.Eight=56]="Eight",e[e.Star=56]="Star",e[e.Asterik=56]="Asterik",e[e.Nine=57]="Nine",e[e.OpenParen=57]="OpenParen",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.LeftWindowKey=91]="LeftWindowKey",e[e.RightWindowKey=92]="RightWindowKey",e[e.SelectKey=93]="SelectKey",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.DecimalPoint=110]="DecimalPoint",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.SemiColon=186]="SemiColon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.UnderScore=189]="UnderScore",e[e.PlusSign=187]="PlusSign",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.ClosedBracket=221]="ClosedBracket",e[e.Quote=222]="Quote"}(N||(N={}));var j="game:start",k="game:lose",I="level:load",P="level:begin",x="level:finished",B="attack:player",L="collision:begin",M="dead:enemy",K="enemy:free",Q="engine:start",D="engine:stop",G="health";function V(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,name:G,entityId:t.id,state:{health:n.health,isDead:n.isDead},update:function(e,n){if(!n.state.health.immortal){var o=n.state.isDead,s=!(n.state.health.value>0);n.state.isDead=s,!o&&s&&i.onChange(M,n,t)}}}))}}f(h(G));var T="geometry";function W(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:T,state:{geometry:{width:n.geometry.width,height:n.geometry.height}},update:function(e,t){return null}}))}}var H={direction:{x:0,y:0},moving:!0,speed:{x:2,y:1.65},disabled:!1,jitter:400};function Y(e){return function(t,n,i){var o,s,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=n.controls||H,u=a.jitter||H.jitter,c=function(e){u=e||H.jitter,o=O(w(),u),s=O(w(),u)};return c(u),e.registerComponent(g({id:r,entityId:t.id,name:"controls",state:{direction:a.direction||{x:0,y:0},moving:a.moving||!0,speed:a.speed||{x:2,y:1.65},disabled:a.disabled||!1,jitter:u},update:function(e,t){t.state.jitter!==u&&c(u),t.state.disabled||function(e,t,n,i,o,s){var r=o(),a=s();t.state.direction.x=S(-1,1,r),t.state.direction.y=S(-1,1,a);var u=t.state.direction,c=u.x,l=u.y;t.state.moving=0!==c||0!==l}(0,t,0,0,o,s)}}))}}var X="collidable";function q(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:X,state:{collidable:n.collidable||!0},update:function(e,t){return null}}))}}f(h(X));var z="loot";function J(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:z,state:{loot:n.loot},update:function(e,t){return null}}))}}f(h(z));var Z="position";function _(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,name:Z,entityId:t.id,state:{position:n.position},update:function(e,n){!function(e,t,n,i){var o=t.getEntityComponent(e,"controls");if(!o||!o.state.moving)return;var s=o.state,r=s.direction,a=s.speed;n.state.position.x+=r.x*a.x,n.state.position.y+=r.y*a.y;var u=t.getEntityComponent(e,"boundary"),c=t.getEntityComponent(e,"geometry");if(R(u)&&R(c)){var l=c.state.geometry,d=l.width,m=l.height,p=u.state.boundary,v=n.state.position,h=v.x,f=v.y;n.state.position.x=h<p.left?p.right-d:h>p.right?p.left:h,n.state.position.y=f<p.top?p.bottom-m:f>p.bottom?p.top:f}}(t,e,n)}}))}}f(h(Z));var $="boundary";function ee(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:$,state:{boundary:n.boundary||F},update:function(e,t){return null}}))}}f(h($));var te="texture";function ne(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:te,state:{texture:n.texture},update:function(e,t){return null}}))}}var ie=.1,oe=4;function se(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:"wiggle",state:{wiggling:n.wiggling,wiggleState:{counter:0,increment:1}},update:function(e,n){!function(e,t,n,i){if(!t.state.wiggling)return;var o=t.state.wiggleState,s=o.counter,r=o.increment;s==oe&&(t.state.wiggleState.increment=-1);s==-oe&&(t.state.wiggleState.increment=1);t.state.wiggleState.counter+=r;var a=n.getEntityComponent(e,"position");R(a)&&(a.state.position.x+=s*ie)}(t,n,e)}}))}}function re(e,t,n,i,o){return function(e,t){var n=U(e),i=V(e),o=W(e),s=ee(e),r=_(e),a=se(e),u=Y(e),c=q(e),l=ne(e),d=J(e),m=e.registerEntity();return e.registerComponent(n(m,t,e.events)),e.registerComponent(i(m,t,e.events)),e.registerComponent(r(m,t,e.events)),e.registerComponent(o(m,t,e.events)),e.registerComponent(l(m,t,e.events)),e.registerComponent(s(m,t,e.events)),e.registerComponent(u(m,t,e.events)),e.registerComponent(a(m,t,e.events)),e.registerComponent(c(m,t,e.events)),e.registerComponent(d(m,t,e.events)),m}(e,{name:n,texture:t,wiggling:!0,controls:{disabled:!0},health:{value:1},position:i||{x:-999,y:-999},geometry:o||{width:64,height:64},loot:{points:10},boundary:F})}var ae,ue,ce,le=n(25),de=n(2),me=n(11),pe=n(34),ve=n.n(pe),he=n(35),fe=n.n(he),ge=n(36),Ae=n.n(ge),ye=n(37),Ee=n.n(ye),Ce=n(38),be=n.n(Ce),Se=n(39),Re=n.n(Se),we=n(40),Oe=n.n(we),Ne=n(41),Fe=n.n(Ne),Ue=n(42),je=n.n(Ue),ke=n(43),Ie=n.n(ke),Pe=n(44),xe=n.n(Pe),Be=function(e,t){return Object(me.a)({src:[e]},t)};!function(e){e[e.Player=0]="Player",e[e.Bug=1]="Bug",e[e.CrabBug=2]="CrabBug",e[e.HelmetBug=3]="HelmetBug",e[e.PincerBug=4]="PincerBug",e[e.SonicBug=5]="SonicBug"}(ce||(ce={}));var Le={NEW_GAME:"newgame",GAMEOVER:"gameover",YOU_WIN:"youwin",LEVEL_WIN:"levelwin",PAUSE:"pause",UNPAUSE:"unpause",NEXT_LEVEL:"nextlevel"},Me={MENU:"game-menu",GAME:"game-main",END:"game-end",SUMMARY:"game-main-summary"},Ke=(ae={},Object(de.a)(ae,Me.MENU,Be(ve.a,{volume:.8})),Object(de.a)(ae,Me.GAME,Be(fe.a,{volume:.4})),Object(de.a)(ae,Me.END,Be(Ae.a,{volume:.8})),Object(de.a)(ae,Me.SUMMARY,Be(Ee.a,{volume:.8})),ae),Qe=(ue={},Object(de.a)(ue,Le.GAMEOVER,Be(be.a)),Object(de.a)(ue,Le.LEVEL_WIN,Be(Oe.a)),Object(de.a)(ue,Le.NEXT_LEVEL,Be(Fe.a)),Object(de.a)(ue,Le.YOU_WIN,Be(Re.a)),Object(de.a)(ue,Le.NEW_GAME,Be(je.a)),Object(de.a)(ue,Le.PAUSE,Be(Ie.a)),Object(de.a)(ue,Le.UNPAUSE,Be(xe.a)),ue),De=function(e){return function(t){t.entity;var n=t.system,o=Object(le.a)(t,["entity","system"]),s=n.getEntityModel(t.entity);return i.createElement(e,Object.assign({},o,{model:s,system:n}))}},Ge=function(e){var t=Object(i.useState)(e.animations),n=Object(m.a)(t,2),o=n[0],s=(n[1],Object(i.useState)(e.currentFrame||function(e){return e.animations[e.currentState][0].frame}(e))),r=Object(m.a)(s,2),a=r[0],u=r[1],c=Object(i.useState)(e.currentState),l=Object(m.a)(c,2),d=l[0],p=l[1],v=Object(i.useState)([]),h=Object(m.a)(v,2),f=h[0],g=h[1];function A(e,t){f.push(setTimeout(function(){return u(e)},t))}if(e.currentState!==d){var y=0;p(e.currentState),o[d].forEach(function(e){var t=e.frame,n=e.duration;A(t,y),y+=n});var E=setTimeout(function(){e.onFinished(d)},y);g(f.concat(E))}return{currentFrame:a,setCurrentState:p}};var Ve=function(e,t){return{frame:e,duration:t}};var Te=function(e){var t=function(t,n){var i=We(n.id,"death");e.system.audio.playSound(i)},n=function(t){var n=We(t.id,"shoot");e.system.audio.playSound(n)};Object(i.useEffect)(function(){return e.system.events.registerEvent("dead:*",t),e.system.events.registerEvent("attack:*",n),C(e.sounds).map(function(t){var n=We(e.entity.id,"".concat(t));e.system.audio.registerSound(n,{src:[e.sounds[t]],volume:.2})}),function(){e.system.events.unRegisterEvent("dead:*",t),e.system.events.unRegisterEvent("attack:*",n),C(e.sounds).map(function(t){var n=We(e.entity.id,"".concat(t));e.system.audio.unRegisterSound(n)})}},[])};function We(e,t){return"entity-".concat(e,":").concat(t)}function He(e){return function(t){var n=i.useState(function(){return!1}),o=Object(m.a)(n,2),s=o[0],r=o[1],a=i.useState(function(){return!1}),u=Object(m.a)(a,2),c=u[0],l=u[1],d=Ge({animations:e.animations,currentState:e.currentState,onFinished:function(e){"death"===e&&r(!0)}}),p=d.currentFrame,v=d.setCurrentState;Te({entity:t.model,system:t.system,sounds:e.sounds}),s||c||!t.model.isDead||(v("death"),l(!0));var h={position:"absolute",backgroundImage:"url(".concat(p,")"),backgroundSize:"contain",backgroundPosition:"center",width:"64px",height:"64px",left:s?-9999:t.model.position.x,top:s?-9999:t.model.position.y,display:function(e){return e?"none":""}(s)};return i.createElement("div",{id:e.elementId,className:"sprite",style:h})}}var Ye,Xe=n(45),qe=n.n(Xe),ze=n(22),Je=n.n(ze),Ze=De(He({elementId:"player",currentState:"normal",animations:{normal:[Ve(n(68),0)],death:[Ve(n(69),0),Ve(n(70),100),Ve(n(71),100),Ve(n(72),100),Ve(n(73),75)]},sounds:{shoot:qe.a,death:Je.a}})),_e=n(9),$e=n.n(_e),et=n(46),tt=n.n(et),nt=He({elementId:"enemy",animations:{normal:[Ve(n(74),0)],death:[Ve(n(16),0),Ve(n(17),100),Ve(n(18),100),Ve(n(19),100),Ve(n(20),100),Ve(n(21),75)]},sounds:{shoot:$e.a,death:tt.a},currentState:"normal"}),it=n(47),ot=n.n(it),st=He({elementId:"enemy",animations:{normal:[Ve(n(75),0)],death:[Ve(n(16),0),Ve(n(17),100),Ve(n(18),100),Ve(n(19),100),Ve(n(20),100),Ve(n(21),75)]},sounds:{shoot:$e.a,death:ot.a},currentState:"normal"}),rt=n(48),at=n.n(rt),ut=He({elementId:"enemy",animations:{normal:[Ve(n(76),0)],death:[Ve(n(16),0),Ve(n(17),100),Ve(n(18),100),Ve(n(19),100),Ve(n(20),100),Ve(n(21),75)]},sounds:{shoot:$e.a,death:at.a},currentState:"normal"}),ct=n(49),lt=n.n(ct),dt=He({elementId:"enemy",animations:{normal:[Ve(n(77),0)],death:[Ve(n(16),0),Ve(n(17),100),Ve(n(18),100),Ve(n(19),100),Ve(n(20),100),Ve(n(21),75)]},sounds:{shoot:$e.a,death:lt.a},currentState:"normal"}),mt=He({elementId:"enemy",animations:{normal:[Ve(n(78),0)],death:[Ve(n(16),0),Ve(n(17),100),Ve(n(18),100),Ve(n(19),100),Ve(n(20),100),Ve(n(21),75)]},sounds:{shoot:$e.a,death:Je.a},currentState:"normal"}),pt=(Ye={},Object(de.a)(Ye,ce.Player,Ze),Object(de.a)(Ye,ce.Bug,nt),Object(de.a)(Ye,ce.CrabBug,st),Object(de.a)(Ye,ce.HelmetBug,ut),Object(de.a)(Ye,ce.PincerBug,dt),Object(de.a)(Ye,ce.SonicBug,mt),Ye),vt=function(e){var t=pt[e];return function(e){e.entity;var n=e.system,o=Object(le.a)(e,["entity","system"]),s=n.getEntityModel(e.entity);return i.createElement(t,Object.assign({},o,{model:s,system:n}))}};function ht(e,t){var n=[],i=0,o=0,s=!0,r=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var l=u.value,d=!0,m=!1,p=void 0;try{for(var v,h=l[Symbol.iterator]();!(d=(v=h.next()).done);d=!0){var f=v.value;if(0!==f){var g={width:64,height:64},A={x:i*g.width,y:o*g.height},y=re(e,f,JSON.stringify(A),A,g);n.push({component:vt(f),entity:y})}i++}}catch(E){m=!0,p=E}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}i=0,o++}}catch(E){r=!0,a=E}finally{try{s||null==c.return||c.return()}finally{if(r)throw a}}return n}function ft(e){return function(t){t.currentTarget.blur(),e(t)}}var gt=n(4),At=n(10),yt=n(26),Et=n(23),Ct=n(27),bt=function(e){function t(){var e,n;Object(gt.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=Object(yt.a)(this,(e=Object(Et.a)(t)).call.apply(e,[this].concat(o)))).lastLoop=(new Date).getMilliseconds(),n.count=1,n.fps=0,n.throttled=!1,n.state={value:0},n.countFps=function(){var e=(new Date).getMilliseconds();return n.lastLoop>e?(n.fps=n.count,n.count=1):n.count+=1,n.lastLoop=e,n.fps},n.loop=function(){n.handler=requestAnimationFrame(function(){n.setFps(n.countFps()),n.loop()})},n.setFps=function(e){n.throttled||(n.setState({value:e}),n.throttled=!0,n.handler=setTimeout(function(){n.throttled=!1},n.props.updateFrequency))},n}return Object(Ct.a)(t,e),Object(At.a)(t,[{key:"componentDidMount",value:function(){this.setFps(this.countFps()),this.loop()}},{key:"componentWillUnmount",value:function(){this.handler&&cancelAnimationFrame(this.handler)}},{key:"render",value:function(){return i.createElement("div",{id:"fps"},"Fps: ",this.state.value)}}]),t}(i.Component);bt.defaultProps={updateFrequency:500};var St=De(function(e){return i.createElement("pre",null,(t=e.model,JSON.stringify(t,null,"  ")));var t}),Rt=function(e){var t=Object(i.useState)(0),n=Object(m.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(!1),a=Object(m.a)(r,2),u=a[0],c=a[1],l=Object(i.useState)(!1),d=Object(m.a)(l,2),p=d[0],h=d[1],f=function(){return h(!1)},g=function(){p||c(!u),f()};return i.createElement(v.a,null,i.createElement("div",{id:"devscreen",className:"container"},i.createElement("div",{id:"header"},i.createElement("span",{className:"float-left title",onMouseUp:g,onMouseDown:f,onMouseMove:function(){return h(!0)}},i.createElement("h3",null,"Devtools")),i.createElement("i",{id:"close-x",className:"icon close float-right",onClick:g})),i.createElement("div",{className:Ot(!u&&"hidden")},i.createElement("span",{className:"links"},i.createElement("a",{onClick:function(){return e.nav("intro")}},"Intro")," | ",i.createElement("a",{onClick:function(){return e.nav("menu")}},"Menu")," | ",i.createElement("a",{onClick:function(){return e.nav("game")}},"Game")),i.createElement(wt,e),i.createElement("p",null,"Epoch: ",e.system.epoch),i.createElement(bt,null),i.createElement("div",{id:"entity-viewer"},"Entities",i.createElement("select",{onChange:function(e){var t=e.currentTarget.value;s(parseInt(t))}},e.system.getState().entities.map(function(t){var n=e.system.getEntityModel(t).name;return i.createElement("option",{key:t.id,value:t.id},n)})),i.createElement("div",{className:"scrollable p-1"},i.createElement(St,{entity:{id:o},system:e.system}))))))};function wt(e){return i.createElement(i.Fragment,null,i.createElement("button",{className:"btn is-primary",onClick:ft(e.onStart)},"Start"),i.createElement("button",{className:"btn is-error",onClick:ft(e.onStop)},"Stop"),i.createElement("button",{className:"btn is-success",onClick:ft(e.onTick)},"Evolve"),i.createElement("button",{className:"btn",onClick:ft(e.onSave)},"Save"),i.createElement("button",{className:"btn is-warning",onClick:ft(e.onLoad)},"Load"))}function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return"string"===typeof e}).join(" ")}n(79);function Nt(e){return i.createElement("div",{id:e.id,className:"layout ".concat(e.className)},i.createElement("div",{className:"top left"},e.topLeft),i.createElement("div",{className:"top center"},e.topCenter),i.createElement("div",{className:"top right"},e.topRight),i.createElement("div",{className:"middle left"},e.middleLeft),i.createElement("div",{className:"middle center"},e.middleCenter),i.createElement("div",{className:"middle right"},e.middleRight),i.createElement("div",{className:"bottom left"},e.bottomLeft),i.createElement("div",{className:"bottom center"},e.bottomCenter),i.createElement("div",{className:"bottom right"},e.bottomRight),i.createElement("div",{className:"background"},e.background),i.createElement("div",{className:"gamescreen"},e.children),e.after)}var Ft=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.nav("menu")}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.createElement(Nt,{id:"intro",className:"game-screen"})}}]),t}(i.Component),Ut=n(52);n(81);function jt(e){return i.createElement("div",{className:"flex rows"},i.createElement("span",null,"1UP"),i.createElement("span",null,e.value))}function kt(e){return i.createElement("div",{className:"flex rows"},i.createElement("span",null,"High Score"),i.createElement("span",{className:"center-text"},e.value))}function It(e){return i.createElement("span",null,"Credits ",e.value)}function Pt(e){return e.value?i.createElement("p",null,"Level: ".concat(e.value)):null}function xt(e){return i.createElement("button",{className:"btn is-success",onClick:e.onClick},"Restart")}function Bt(e){return i.createElement(Nt,{id:e.id,className:Ot(e.className,"retro-container"),topLeft:i.createElement(jt,{value:e.lives}),topCenter:i.createElement(kt,{value:e.score}),topRight:i.createElement(Pt,{value:e.level}),bottomLeft:i.createElement(It,{value:e.credits}),background:e.background,bottomRight:i.createElement(xt,{onClick:e.onRestart})},e.children)}n(29),n(84);var Lt=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}),i.createElement("div",{id:"logo-container",className:"slide-up"},i.createElement("div",{id:"logo"})))};function Mt(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1}function Kt(){this.keys=[],this.actions=[];for(var e=0;e<256;e++)this.keys.push(new Mt);this.events=[];var t=this.actions;this.events.push([window,"keydown",function(e){t.push(e.keyCode),t.push(Mt.DOWN)}]),this.events.push([window,"keyup",function(e){t.push(e.keyCode),t.push(Mt.UP)}]);for(var n=0;n<this.events.length;n++){var i=this.events[n];i[0].addEventListener(i[1],i[2])}}Mt.DOWN=-1,Mt.UP=1,Mt.RESET=0,Mt.prototype.update=function(e){this.justPressed=!1,this.justReleased=!1,e===Mt.DOWN?(this.pressed||(this.justPressed=!0),this.pressed=!0):e===Mt.UP?(this.pressed&&(this.justReleased=!0),this.pressed=!1):e===Mt.RESET&&(this.justReleased=!1,this.justPressed=!1)},Mt.prototype.set=function(e,t,n){this.pressed=t,this.justPressed=e,this.justReleased=n},Mt.prototype.reset=function(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1},Kt.prototype.update=function(){for(var e=0;this.actions.length>e;){var t=this.actions.shift(),n=this.actions.shift();this.keys[t].update(n),(this.keys[t].justReleased||this.keys[t].justPressed)&&(this.actions.push(t),this.actions.push(Mt.RESET),e+=2)}},Kt.prototype.reset=function(){this.actions=[];for(var e=0;e<this.keys.length;e++)this.keys[e].reset()},Kt.prototype.keyPressed=function(e){return this.keys[e].pressed},Kt.prototype.keyJustPressed=function(e){return this.keys[e].justPressed},Kt.prototype.keyJustReleased=function(e){return this.keys[e].justReleased},Kt.prototype.dispose=function(){for(var e=0;e<this.events.length;e++){var t=this.events[e];t[0].removeEventListener(t[1],t[2])}},Kt.TAB=9,Kt.ENTER=13,Kt.SHIFT=16,Kt.CTRL=17,Kt.ALT=18,Kt.CAPS_LOCK=20,Kt.ESC=27,Kt.SPACEBAR=32,Kt.PAGE_UP=33,Kt.PAGE_DOWN=34,Kt.END=35,Kt.HOME=36,Kt.INSERT=45,Kt.DEL=46,Kt.LEFT=37,Kt.RIGHT=39,Kt.UP=38,Kt.DOWN=40,Kt.NUM0=48,Kt.NUM1=49,Kt.NUM2=50,Kt.NUM3=51,Kt.NUM4=52,Kt.NUM5=53,Kt.NUM6=54,Kt.NUM7=55,Kt.NUM8=56,Kt.NUM9=57,Kt.A=65,Kt.B=66,Kt.C=67,Kt.D=68,Kt.E=69,Kt.F=70,Kt.G=71,Kt.H=72,Kt.I=73,Kt.J=74,Kt.K=75,Kt.L=76,Kt.M=77,Kt.N=78,Kt.O=79,Kt.P=80,Kt.Q=81,Kt.R=82,Kt.S=83,Kt.T=84,Kt.U=85,Kt.V=86,Kt.W=87,Kt.X=88,Kt.Y=89,Kt.Z=90,Kt.F1=112,Kt.F2=113,Kt.F3=114,Kt.F4=115,Kt.F5=116,Kt.F6=117,Kt.F7=118,Kt.F8=119,Kt.F9=120,Kt.F10=121,Kt.F11=122,Kt.F12=123;var Qt=function(e){return Object(i.useEffect)(function(){var t=function(t){t.keyCode===Kt.ENTER&&e()};return document.addEventListener("keypress",t),function(){document.removeEventListener("keypress",t)}},[])};function Dt(e){var t=Object(i.useState)(!1),n=Object(Ut.a)(t,2),o=n[0],s=n[1];function r(){setTimeout(function(){e.system.audio.playSound(Le.LEVEL_WIN)},750),setTimeout(function(){e.system.events.emit(j)},2e3)}return Object(i.useEffect)(function(){setTimeout(function(){return s(!0)},3e3)},[]),Object(i.useEffect)(function(){return e.system.audio.playSong(Me.MENU),function(){e.system.audio.stopSong(Me.MENU)}},[]),Qt(b(r)),i.createElement(Bt,{id:"gui",className:"menu",score:0,credits:0,lives:0,background:i.createElement(Lt,null),onRestart:r},i.createElement("div",{className:"screen menu"},i.createElement("div",{id:"press-enter",className:"center-content"},i.createElement("p",{className:Ot(!o&&"hidden","fade-in","neon","retro-red"),onMouseUp:r},i.createElement("span",null,"Press Enter")))),i.createElement("div",{className:"overlay"},"AV-1"))}var Gt=n(28);var Vt=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}))},Tt=function(e){function t(){return Object(gt.a)(this,t),Object(yt.a)(this,Object(Et.a)(t).apply(this,arguments))}return Object(Ct.a)(t,e),Object(At.a)(t,[{key:"render",value:function(){return i.createElement("div",{className:"screen level"},this.props.children)}}]),t}(i.PureComponent);function Wt(e){var t=function(e){return{position:"absolute",outline:"1px solid white",borderRadius:"25%",height:"32px",width:"0px",left:e.model.position.x+30,top:e.model.position.y,display:(t=e.model,t.offscreen?"none":"")};var t}(e);return i.createElement("div",{id:"bullet",className:"sprite",style:t})}var Ht=function(e){return function(t){function n(){var t,i;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(i=Object(u.a)(this,(t=Object(c.a)(n)).call.apply(t,[this].concat(s)))).state={enemyPositions:e.enemyPositions,levelId:e.levelId,enemies:[],enemiesDead:0,ready:!1},i.countDeath=function(){i.setState(function(e){return{enemiesDead:e.enemiesDead+1}})},i.onLevelComplete=b(function(t,n){t.events.emit(e.completeEvent||x,n),clearInterval(i.interval)}),i.enemyFree=function(){var e,t=(e=i.state.enemies.map(function(e){return e.entity}))[Math.floor(Math.random()*e.length)],n=i.props.system.getEntityComponent(t,"controls");n&&(n.state.disabled=!1)},i.enemyGroup=function(){},i.startFreeEnemyInterval=function(){i.interval=setInterval(function(){i.props.system.events.emit(K)},8e3)},i}return Object(l.a)(n,t),Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.enemyPositions,t=this.props,n=t.system,i=(0,t.loadLevel)(n,e);this.setState({enemies:i,ready:!0}),n.events.registerEvent(M,this.countDeath),n.events.registerEvent(K,this.enemyFree),n.events.registerEvent("enemy:group",this.enemyGroup),n.events.registerEvent(P,this.startFreeEnemyInterval)}},{key:"componentDidUpdate",value:function(e,t){t.ready&&t.enemiesDead===t.enemies.length&&this.onLevelComplete(this.props.system,this.state.levelId)}},{key:"componentWillUnmount",value:function(){var e=this.props.system;clearInterval(this.interval),e.events.unRegisterEvent(M,this.countDeath),e.events.unRegisterEvent(K,this.enemyFree),e.events.unRegisterEvent("enemy:group",this.enemyGroup),e.events.unRegisterEvent(P,this.startFreeEnemyInterval),this.state.enemies.forEach(function(t){return e.unRegisterEntity(t.entity.id)})}},{key:"render",value:function(){var e=this.props.state,t=e.player,n=e.bullet1,o=e.bullet2,s=e.system;return i.createElement(Tt,null,i.createElement(Ze,{entity:t,system:s}),i.createElement(Wt,{model:n}),i.createElement(Wt,{model:o}),this.state.enemies.map(function(e){var t=e.component;return i.createElement(t,{key:e.entity.id,entity:e.entity,system:s})}))}}]),n}(i.Component)};var Yt={demo:{level:Ht({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,0,0],[0,0,0,1,0,1,0,1,0,0,0,0]],levelId:"Demo"}),next:"level1"},level1:{level:Ht({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]],levelId:"1"}),next:"level2"},level2:{level:Ht({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]],levelId:"2"}),next:"level3"},level3:{level:Ht({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,5,5,5,5,5,5,0,0,0],[0,0,0,3,3,0,0,3,3,0,0,0],[0,0,1,1,1,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,1,1,1,0,0]],levelId:"3"}),next:"level4"},level4:{level:Ht({enemyPositions:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,0,0]],levelId:"4",completeEvent:k}),next:"end"},end:{level:function(e){var t=e.state,n=t.player,o=t.system;return i.createElement(Tt,null,i.createElement(Ze,{entity:n,system:o}))},next:"demo"}},Xt={demo:"Demo",level1:"1",level2:"2",level3:"3",level4:"4",end:"End"};var qt=n(53);function zt(e){var t=i.useState(5),n=Object(m.a)(t,2),o=n[0],s=n[1],r=i.useState(!1),a=Object(m.a)(r,2),u=a[0],c=a[1];return i.useEffect(function(){s(5),c(!1);for(var t=function(e){setTimeout(function(){return s(5-e)},1e3*e)},n=0;n<=5;n++)t(n);setTimeout(function(){c(!0),e.onReady()},5e3)},[e.level]),i.createElement("div",{className:Ot("center-content","absolute-fit",u?"fadeout":"fadeout-visible")},i.createElement("p",{className:"neon green"},i.createElement("span",null,o)))}function Jt(e){e.levels;var t=Object(qt.a)(e,["levels"]),n=i.useState(!1),o=Object(m.a)(n,2),s=(o[0],o[1]),r=i.useState(t.currentLevel),a=Object(m.a)(r,2),u=a[0],c=a[1],l=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt)[e].level}(t.currentLevel);i.useEffect(function(){t.system.events.emit(I),c(t.currentLevel),s(!1)},[t.currentLevel]);return i.createElement(i.Fragment,null,i.createElement(l,Object.assign({loadLevel:ht},t)),i.createElement(zt,{level:u,onReady:function(){t.system.events.emit(P,u),s(!0)}}))}function Zt(e){return Qt(b(e.onNextLevel)),i.createElement("div",{className:"complete container with-title is-center is-dark fade-in"},i.createElement("label",{className:"title"},"Level ".concat(Xt[e.currentLevel]," Complete")),i.createElement("p",null,"Score:  ".concat(e.state.score)),i.createElement("p",null,"Shots:  ".concat(e.state.shots)),i.createElement("p",null,"Hits:   ".concat(e.state.hits)),i.createElement("p",null,"Ratio:  ".concat(Math.round(e.state.hits/e.state.shots*100),"%")),i.createElement("button",{className:"btn is-primary",onClick:e.onNextLevel},"Press Enter"))}var _t=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={score:0,credits:1,lives:3,shots:0,hits:0,complete:!1,completed:[],currentLevel:"level1"},n.registerEvents=function(){n.props.system.events.registerEvent(I,n.handleLevelLoading),n.props.system.events.registerEvent(P,n.handleLevelBegin),n.props.system.events.registerEvent(x,n.handleLevelComplete),n.props.system.events.registerEvent(M,n.handleEnemyDeath),n.props.system.events.registerEvent(L,n.handleBulletCollisions),n.props.system.events.registerEvent(k,n.handleGameOver)},n.unRegisterEvents=function(){n.props.system.events.unRegisterEvent(I,n.handleLevelLoading),n.props.system.events.unRegisterEvent(P,n.handleLevelBegin),n.props.system.events.unRegisterEvent(x,n.handleLevelComplete),n.props.system.events.unRegisterEvent(M,n.handleEnemyDeath),n.props.system.events.unRegisterEvent(L,n.handleBulletCollisions),n.props.system.events.unRegisterEvent(k,n.handleGameOver)},n.handleBulletCollisions=function(){var e=n.props,t=e.bullet1,i=e.bullet2;if(t.collisions.length||i.collisions.length){var o=Object(Gt.a)(t.collisions).concat(Object(Gt.a)(i.collisions));Object(Gt.a)(new Set(o)).map(A).forEach(n.killEntity)}},n.getBullet=function(){return y([n.props.bullet1,n.props.bullet2].filter(function(e){return!!e.offscreen}))},n.fireBullet=function(e){var t=n.getBullet();t&&(t.position.x=e.x,t.position.y=e.y,n.reviveEntity(t,1),n.setState(function(e){return Object(s.a)({},e,{shots:e.shots+1})}),n.props.system.events.emit(B,n.props.player))},n.killEntity=function(e){var t=n.props.system.getEntityComponent(e,"health");void 0!==t&&(t.state.health.value=0)},n.reviveEntity=function(e,t){var i=n.props.system.getEntityComponent(e,"health");void 0!==i&&(i.state.health.value=t)},n.handleEnemyDeath=function(e){var t=n.props.system.getEntityComponent({id:e.entityId},"loot");if(void 0!==t){var i=t.state.loot.points;n.setState(function(e){return{score:e.score+i,hits:e.hits+1}})}},n.handleLevelLoading=function(){n.props.system.events.emit(D)},n.handleLevelBegin=function(){n.props.system.events.emit(Q)},n.handleLevelComplete=function(e){n.props.system.audio.stopSong(Me.GAME),setTimeout(function(){n.props.system.audio.playSound(Le.LEVEL_WIN)},750),setTimeout(function(){n.props.system.audio.playSong(Me.SUMMARY),n.setState(function(t){return{complete:!0,completed:t.completed.concat(e)}})},1500)},n.handleGameOver=function(){n.props.system.audio.stopSong(Me.GAME),setTimeout(function(){n.props.system.audio.playSound(Le.LEVEL_WIN)},1500),setTimeout(function(){n.props.system.audio.playSound(Le.GAMEOVER)},2250),setTimeout(function(){n.props.onFinalScore(n.state)},3e3)},n.startNewGame=function(){n.props.system.audio.playSound(Le.NEW_GAME),setTimeout(function(){return n.setState({currentLevel:"level1"})},5)},n.onNextLevel=function(){n.props.system.audio.stopSong(Me.SUMMARY),setTimeout(function(){n.props.system.audio.playSound(Le.NEXT_LEVEL)},350),setTimeout(function(){var e=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt)[e].next}(n.state.currentLevel);n.setState({currentLevel:e,complete:!1})},1200),setTimeout(function(){n.props.system.audio.playSong(Me.GAME)},3e3)},n.registerEvents(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.system.audio.playSong(Me.GAME)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player.attacking&&e.player.attacking&&this.fireBullet(this.props.player.center)}},{key:"componentWillUnmount",value:function(){this.props.system.audio.stopSong(Me.GAME),this.unRegisterEvents()}},{key:"render",value:function(){var e=this.state,t=e.currentLevel,n=e.score,o=e.credits,s=e.lives;return i.createElement(Bt,{id:"gui",className:"game",level:Xt[t],score:n,credits:o,lives:s,onRestart:this.props.onRestart,background:i.createElement(Vt,null)},i.createElement(Jt,{currentLevel:t,state:this.props,system:this.props.system}),this.state.complete?i.createElement("div",{className:"center-content absolute-fit"},i.createElement(Zt,{currentLevel:t,state:this.state,onNextLevel:this.onNextLevel})):null)}}]),t}(i.PureComponent);n(86);var $t=function(){return i.createElement("div",{id:"starfield",className:"background"},i.createElement("div",{id:"stars"}),i.createElement("div",{id:"stars2"}),i.createElement("div",{id:"stars3"}),i.createElement("div",{id:"gameover-container",className:"slide-up"},i.createElement("div",{id:"gameover"})))};function en(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)({}),a=Object(m.a)(r,2),u=a[0],c=a[1];return Object(i.useEffect)(function(){return e.system.audio.playSong(Me.END),function(){e.system.audio.stopSong(Me.END)}},[]),Object(i.useEffect)(function(){if(e.final)try{c(e.final)}catch(n){}var t=setTimeout(function(){return s(!0)},3e3);return function(){clearTimeout(t)}},[]),Qt(b(function(){e.nav("game")})),i.createElement(Bt,{id:"gui",className:"gameover",score:u.score,credits:u.credits,lives:u.lives,background:i.createElement($t,null),onRestart:function(){e.nav("menu")}},i.createElement("div",{className:"screen menu"},i.createElement("div",{id:"press-enter",className:"center-content"},i.createElement("p",{className:Ot(!o&&"hidden","fade-in")},"Press Enter to Play Again"))))}var tn="position";function nn(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,name:tn,entityId:t.id,state:{position:Object(s.a)({},n.position),center:Object(s.a)({},n.position)},update:function(e,n){!function(e,t,n,i){var o=t.getEntityComponent(e,"controls");if(!o||!o.state.moving)return;var s=o.state,r=s.direction,a=s.speed;n.state.position.x+=r.x*a.x,n.state.position.y+=r.y*a.y;var u=t.getEntityComponent(e,"boundary"),c=t.getEntityComponent(e,"geometry");if(R(u)&&R(u)){var l=c.state.geometry,d=l.width,m=l.height,p=u.state.boundary,v=S(p.left,p.right-d,n.state.position.x),h=S(p.top,p.bottom-m,n.state.position.y);n.state.position.x=v,n.state.position.y=h,n.state.center.x=n.state.position.x-d/2,n.state.center.y=n.state.position.y-m/2}}(t,e,n)}}))}}f(h(tn));var on="attack";function sn(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:on,state:{attacking:n.attacking,attackPower:n.attackPower},update:function(e,t){!function(e,t){t.input.keyPressed(t.input.KeyCodes.SPACEBAR)?e.state.attacking=!0:e.state.attacking=!1}(t,e)}}))}}f(h(on));function rn(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:"controls",state:{direction:n.direction,moving:n.moving,speed:n.speed},update:function(e,n){!function(e,t,n){an(e,t,n,"vertical")}(t,n,e),function(e,t,n){an(e,t,n)}(t,n,e),function(e,t,n){var i=t.state.direction,o=i.x,s=i.y;t.state.moving=0!==o||0!==s}(0,n)}}))}}function an(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"horizontal",o="horizontal"===i?"x":"y",s="horizontal"===i?[n.input.KeyCodes.LEFT,n.input.KeyCodes.RIGHT]:[n.input.KeyCodes.UP,n.input.KeyCodes.DOWN],r=Object(m.a)(s,2),a=r[0],u=r[1];n.input.keyPressed(u)?t.state.direction[o]=1:n.input.keyPressed(a)?t.state.direction[o]=-1:t.state.direction[o]=0}function un(e){return function(e,t){var n=U(e),i=V(e),o=nn(e),s=rn(e),r=sn(e),a=W(e),u=ne(e),c=q(e),l=ee(e),d=e.registerEntity();return e.registerComponent(n(d,t,e.events)),e.registerComponent(i(d,t,e.events)),e.registerComponent(o(d,t,e.events)),e.registerComponent(a(d,t,e.events)),e.registerComponent(u(d,t,e.events)),e.registerComponent(r(d,t,e.events)),e.registerComponent(c(d,t,e.events)),e.registerComponent(l(d,t,e.events)),e.registerComponent(s(d,{direction:t.direction,moving:t.moving,speed:t.speed},e.events)),d}(e,{name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"player 1",texture:ce.Player,health:{value:100,immortal:!0},attackPower:10,speed:{y:0,x:6},position:{x:400,y:475},direction:{x:0,y:0},geometry:{width:64,height:64},moving:!1,attacking:!1,boundary:F})}var cn="momentum";function ln(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:cn,state:{momentum:{direction:n.momentum.direction,speed:n.momentum.speed}},update:function(e,n){!function(e,t,n){var i=n.getEntityComponent(e,"position").state.position;if(n.getEntityComponent(e,"offscreen").state.offscreen)return;var o=t.state.momentum,s=o.direction,r=o.speed;i.y+=s.y*r,i.x+=s.x*r}(t,n,e)}}))}}f(h(cn));function dn(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:"offscreen",state:{offscreen:n.offscreen||!1},update:function(e,n){!function(e,t,n){var i=n.getEntityComponent(e,"position").state.position,o=n.config.screenSize;if(i.x<0||i.y<0)return void(t.state.offscreen=!0);if(i.x>o.x||i.y>o.y)return void(t.state.offscreen=!0);if(i.x>window.innerWidth||i.y>window.innerHeight)return void(t.state.offscreen=!0);t.state.offscreen=!1}(t,n,e)}}))}}var mn="collisions";function pn(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:mn,state:{collisions:n.collisions||[]},update:function(e,n){!function(e,t,n,i){var o=n.getEntityModel({id:t.entityId}),s=n.getEntitiesByComponentTypes(["geometry","position","collidable"]).filter(function(e){return e!==t.entityId}).map(function(e){return n.getEntityModel({id:e})}),r=vn(o.position,o.geometry),a=[];s.forEach(function(e){var t,n,i=vn(e.position,e.geometry);n=i,(t=r).left>n.right||n.left>t.right||t.bottom<n.top||n.bottom<t.top||void 0===i||a.push(e.id)});var u=t.state.collisions?t.state.collisions.map(function(e){return e}):[];t.state.collisions=a,new Set(u)!==new Set(a)&&a.length>0&&i.onChange(L,t,e)}(t,n,e,i)}}))}}f(h(mn));function vn(e,t){return{left:e.x-t.width/2,right:e.x+t.width/2,top:e.y,bottom:e.y+t.height}}function hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-100;return function(e,t){var n=U(e),i=nn(e),o=ln(e),s=dn(e),r=W(e),a=pn(e),u=e.registerEntity();return e.registerComponent(n(u,t,e.events)),e.registerComponent(i(u,t,e.events)),e.registerComponent(r(u,t,e.events)),e.registerComponent(o(u,t,e.events)),e.registerComponent(a(u,t,e.events)),e.registerComponent(s(u,t,e.events)),u}(e,{name:t,momentum:{direction:{x:0,y:-1},speed:arguments.length>3&&void 0!==arguments[3]?arguments[3]:8},position:{x:n,y:440},geometry:{width:2,height:32}})}var fn=n(31),gn={name:"AudioManager",debug:!0,logging:!0,version:"1"},An=function(){function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.toString=function(){return JSON.stringify({config:n.config},null,"  ")},this.config=Object(s.a)({},gn,t),this.sounds={},this.songs={},this.soundFactory=fn.Howl,this.audioEngine=fn.Howler}return Object(a.a)(e,[{key:"registerSound",value:function(e,t){this.sounds[e]=new this.soundFactory(t)}},{key:"unRegisterSound",value:function(e){this.sounds[e].stop(),this.sounds[e].unload(),delete this.sounds[e]}},{key:"registerSong",value:function(e,t){this.songs[e]=new this.soundFactory(Object(s.a)({loop:!0},t))}},{key:"unRegisterSong",value:function(e){this.songs[e].stop(),this.songs[e].unload(),delete this.songs[e]}},{key:"playSound",value:function(e,t){try{this.sounds[e].play(t)}catch(n){throw new Error('[AudioManager:ERROR]: Sound: "'.concat(e,'" not found..'))}}},{key:"stopSound",value:function(e,t){try{this.sounds[e].stop(t)}catch(n){throw new Error('[AudioManager:ERROR]: Sound: "'.concat(e,'" not found..'))}}},{key:"playSong",value:function(e,t){try{this.songs[e].play(t)}catch(n){throw new Error('[AudioManager:ERROR]: Song: "'.concat(e,'" not found..'))}}},{key:"stopSong",value:function(e,t){try{this.songs[e].stop(t)}catch(n){throw new Error('[AudioManager:ERROR]: Song: "'.concat(e,'" not found..'))}}},{key:"registerListener",value:function(e,t,n){this.sounds[e].on(t,n)}},{key:"registerOnceListener",value:function(e,t,n){this.sounds[e].once(t,n)}},{key:"unRegisterListener",value:function(e,t,n){this.sounds[e].off(t,n)}},{key:"changeVolume",value:function(e){this.audioEngine.volume(e)}}]),e}(),yn={name:"componentManager",debug:!0,logging:!0,version:"1"},En=function(){function e(t){var n=this;Object(gt.a)(this,e),this.init=function(e){return null},this.registerComponent=function(e){e.id=-1===e.id?n.idGenerator().next():e.id;var t=g(e);return n.components[e.id]=t,t},this.unRegisterComponent=function(e){delete n.components[e]},this.get=function(e){var t="number"===typeof e?e:e&&e.id;return n.components[t]},this.getSerializableState=function(){return{config:n.config,components:n.components}},this.loadHydratedState=function(e){n.config=e.config,n.components=e.components},this.toString=function(){return JSON.stringify({config:n.config,components:n.components},null,"  ")},this.config=Object(me.a)({},yn,t),this.components=[],this.idGenerator=E()}return Object(At.a)(e,[{key:"getState",get:function(){return this.components}}],[{key:"isSameComponent",value:function(e,t){return e.id===t.id}}]),e}(),Cn={name:"EntityManager",debug:!0,logging:!0,version:"1"},bn=function(){function e(t){var n=this;Object(gt.a)(this,e),this.init=function(e){return null},this.registerEntity=function(){var e=n.idGenerator().next(),t=g({id:e});return n.entities[e]=t,t},this.unRegisterEntity=function(e){delete n.entities[e]},this.get=function(e){var t="number"===typeof e?e:e.id;return n.entities[t]},this.getSerializableState=function(){return{config:n.config,entities:n.entities}},this.loadHydratedState=function(e){n.config=e.config,n.entities=e.entities},this.toString=function(){return JSON.stringify({config:n.config,entities:n.entities},null,"  ")},this.config=Object(me.a)({},Cn,t),this.entities=[],this.idGenerator=E()}return Object(At.a)(e,[{key:"getState",get:function(){return this.entities}}],[{key:"isSameEntity",value:function(e,t){return e.id===t.id}}]),e}(),Sn=n(51),Rn={name:"EventManager",debug:!0,logging:!0,version:"1"},wn=function e(t){var n=this;Object(r.a)(this,e),this.init=function(e){return null},this.registerEvent=function(e,t){n.emitter.addListener(e,t)},this.unRegisterEvent=function(e,t){n.emitter.removeListener(e,t)},this.emit=function(e,t){n.emitter.emit(e,t)},this.onUpdate=function(e,t){n.emitter.emit("updateComponent",e,t)},this.onChange=function(e,t,i){n.emitter.emit(e,t,i)},this.config=Object(s.a)({},Rn,t),this.emitter=new Sn.EventEmitter2({delimiter:":",wildcard:!0,maxListeners:20})};function On(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}function Nn(){this._keys=[],this._position=new On(0,0),this._positionUpdated=!1,this._delta=new On(0,0),this._wheel=0,this._wheelUpdated=!1,this._doubleClicked=!1,this.keys=[],this.position=new On(0,0),this.delta=new On(0,0),this.wheel=0,this.doubleClicked=!1,this.canvas=null,this.events=[];for(var e=0;e<3;e++)this._keys.push(new Mt),this.keys.push(new Mt);var t=this;if(void 0!==window.onmousewheel?this.events.push([window,"mousewheel",function(e){t._wheel=e.deltaY,t._wheelUpdated=!0}]):void 0!==window.addEventListener?this.events.push([window,"DOMMouseScroll",function(e){t._wheel=30*e.detail,t._wheelUpdated=!0}]):this.events.push([window,"wheel",function(e){t._wheel=e.deltaY,t._wheelUpdated=!0}]),"ontouchstart"in window||navigator.msMaxTouchPoints>0){var n=new On(0,0);this.events.push([window,"touchstart",function(e){var i=e.touches[0];n.set(i.clientX,i.clientY),t.updateKey(Nn.LEFT,Mt.DOWN)}]),this.events.push([window,"touchend",function(e){t.updateKey(Nn.LEFT,Mt.UP)}]),this.events.push([window,"touchmove",function(e){var i=e.touches[0];if(null!==t.canvas){var o=t.canvas.getBoundingClientRect();t.updatePosition(i.clientX-o.left,i.clientY-o.top,i.clientX-n.x,i.clientY-n.y)}else t.updatePosition(i.clientX,i.clientY,i.clientX-n.x,i.clientY-n.y);n.set(i.clientX,i.clientY)}])}else this.events.push([window,"mousemove",function(e){if(null!==t.canvas){var n=t.canvas.getBoundingClientRect();t.updatePosition(e.clientX-n.left,e.clientY-n.top,e.movementX,e.movementY)}else t.updatePosition(e.clientX,e.clientY,e.movementX,e.movementY)}]),this.events.push([window,"mousedown",function(e){t.updateKey(e.which-1,Mt.DOWN)}]),this.events.push([window,"mouseup",function(e){t.updateKey(e.which-1,Mt.UP)}]);this.events.push([window,"dblclick",function(e){t._doubleClicked=!0}]);for(var i=0;i<this.events.length;i++){var o=this.events[i];o[0].addEventListener(o[1],o[2])}}On.prototype.set=function(e,t){this.x=e,this.y=t},Nn.LEFT=0,Nn.MIDDLE=1,Nn.RIGHT=2,Nn.prototype.setCanvas=function(e){this.canvas=e,e.mouseInside=!1,e.addEventListener("mouseenter",function(){this.mouseInside=!0}),e.addEventListener("mouseleave",function(){this.mouseInside=!1})},Nn.prototype.insideCanvas=function(){return null!==this.canvas&&this.canvas.mouseInside},Nn.prototype.setLock=function(e){null!==this.canvas&&(e?this.canvas.requestPointerLock?this.canvas.requestPointerLock():this.canvas.mozRequestPointerLock?this.canvas.mozRequestPointerLock():this.canvas.webkitRequestPointerLock&&this.canvas.webkitRequestPointerLock():document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock?document.mozExitPointerLock():document.webkitExitPointerLock&&document.webkitExitPointerLock())},Nn.prototype.buttonPressed=function(e){return this.keys[e].pressed},Nn.prototype.buttonDoubleClicked=function(){return this.doubleClicked},Nn.prototype.buttonJustPressed=function(e){return this.keys[e].justPressed},Nn.prototype.buttonJustReleased=function(e){return this.keys[e].justReleased},Nn.prototype.updatePosition=function(e,t,n,i){this._position.set(e,t),this._delta.x+=n,this._delta.y+=i,this._positionUpdated=!0},Nn.prototype.updateKey=function(e,t){e>-1&&this._keys[e].update(t)},Nn.prototype.update=function(){for(var e=0;e<this._keys.length;e++)this._keys[e].justPressed&&this.keys[e].justPressed&&(this._keys[e].justPressed=!1),this._keys[e].justReleased&&this.keys[e].justReleased&&(this._keys[e].justReleased=!1),this.keys[e].set(this._keys[e].justPressed,this._keys[e].pressed,this._keys[e].justReleased);this._wheelUpdated?(this.wheel=this._wheel,this._wheelUpdated=!1):this.wheel=0,this._doubleClicked?(this.doubleClicked=!0,this._doubleClicked=!1):this.doubleClicked=!1,this._positionUpdated?(this.delta.x=this._delta.x,this.delta.y=this._delta.y,this._delta.set(0,0),this.position.x=this._position.x,this.position.y=this._position.y,this._positionUpdated=!1):(this.delta.x=0,this.delta.y=0)},Nn.prototype.dispose=function(){for(var e=0;e<this.events.length;e++){var t=this.events[e];t[0].removeEventListener(t[1],t[2])}};var Fn=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kt;Object(gt.a)(this,e),this.mouse=n,this.keyboard=i,this.KeyCodes=Kt,this.buttonPressed=function(e){return t.mouse.buttonPressed(e)},this.keyPressed=function(e){return t.keyboard.keyPressed(e)},this.keyJustPressed=function(e){return t.keyboard.keyJustPressed(e)},this.keyJustReleased=function(e){return t.keyboard.keyJustReleased(e)},this.update=function(){t.mouse.update(),t.keyboard.update()}},Un=function(){function e(t){var n=this;Object(gt.a)(this,e),this.system=t,this.saveGame=function(){n.saveState("ecs",n.system.getSerializableState())},this.loadGame=function(){var e=n.loadStateFromKey("ecs");if(e){var t=n.hydrateLoadedComponents(n.system,e);e.system.components=t,n.system.loadHydratedState(e)}}}return Object(At.a)(e,[{key:"saveState",value:function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}},{key:"loadStateFromKey",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"hydrateLoadedComponents",value:function(e,t){var n=this,i=t.system.components,o={};return i.map(function(t){var i,s=o[t.name];return s?i=s:(i=n.system.getComponentFactory(t.name)(e),o[t.name]=i),i({id:t.entityId},t.state,{onUpdate:function(e,t){return null},onChange:function(e,t,n){return null}},t.id)})}}]),e}();function jn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"horizontal",o="horizontal"===i?"x":"y",s="horizontal"===i?[n.input.KeyCodes.LEFT,n.input.KeyCodes.RIGHT]:[n.input.KeyCodes.UP,n.input.KeyCodes.DOWN],r=Object(m.a)(s,2),a=r[0],u=r[1];n.input.keyPressed(u)?t.state.direction[o]=1:n.input.keyPressed(a)?t.state.direction[o]=-1:t.state.direction[o]=0}var kn={name:U,health:V,position:nn,age:function(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,name:"age",entityId:t.id,state:{age:n.age},update:function(e,t){var n=e.epoch;0===n%2e3&&n>0&&t.state.age++}}))}},controls:function(e){return function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e.registerComponent(g({id:o,entityId:t.id,name:"controls",state:{direction:n.direction,moving:n.moving,speed:n.speed},update:function(e,n){!function(e,t,n){jn(e,t,n,"vertical")}(t,n,e),function(e,t,n){jn(e,t,n)}(t,n,e),function(e,t,n){var i=t.state.direction,o=i.x,s=i.y;t.state.moving=0!==o||0!==s}(0,n)}}))}},collisions:pn,collidable:q,attack:sn,momentum:ln,offscreen:dn,geometry:W,loot:J,boundary:ee,texture:ne,wiggle:se};var In={debug:!1,logging:!0},Pn=function e(t,n,i){var o,s=this;Object(gt.a)(this,e),this.entityModelCache={},this.entityComponentCache={},this.init=function(e){return null},this.registerEntity=function(){return s.entityManager.registerEntity()},this.registerComponent=function(e){var t=s.componentManager.registerComponent(e);return s.entityComponentSetter([t.entityId,t.name],t.id),t},this.getComponent=function(e){return s.componentManager.get(e)},this.getComponentById=function(e){return s.componentManager.get(e)},this.getComponentIdsForEntity=function(e){return void 0===e?[]:(t=s.entityComponents[e.id],Object.keys(t).map(function(e){return t[e]}));var t},this.getComponentsForEntity=function(e){return s.getComponentIdsForEntity(e).map(s.componentManager.get)},this.getComponentFactory=function(e){return s.componentFactories[e]},this.getCachedComponentsForEntity=function(e){var t=s.entityModelCache[e.id];if(t)return t;var n=s.getComponentsForEntity(e);return s.entityModelCache[e.id]=n,n},this.unRegisterEntity=function(e){s.unRegisterComponentsForEntity(e),s.deleteEntityComponents(e),s.clearEntityComponentCache(),s.clearEntityModelCache(),s.entityManager.unRegisterEntity(e)},this.unRegisterComponent=function(e){s.componentManager.unRegisterComponent(e)},this.unRegisterComponentsForEntity=function(e){s.getComponentIdsForEntity({id:e}).forEach(function(e){return s.componentManager.unRegisterComponent(e)})},this.deleteEntityComponents=function(e){delete s.entityComponents[e]},this.clearEntityComponentCache=function(){delete s.entityComponentCache,s.entityComponentCache={}},this.clearEntityModelCache=function(){delete s.entityModelCache,s.entityModelCache={}},this.getEntityComponent=function(e,t){return s.getComponentById(s.entityComponents[e.id][t])},this.getEntityModel=function(e){return function(e,t){return t.filter(function(t){return t&&t.entityId===e.id}).reduce(function(e,t){return Object(me.a)({},e,t.state)},{id:e.id})}(e,s.system.components)},this.getEntitiesByComponentTypes=function(e){var t=e.join("-");if(void 0!==s.entityComponentCache[t])return s.entityComponentCache[t];for(var n=function(t){return-1!==e.indexOf(t.name)},i=[],o=0;o<s.system.entities.length;o++){var r=s.system.entities[o];s.getComponentIdsForEntity(r).map(s.getComponentById).filter(n).length===e.length&&i.push(r.id)}return s.entityComponentCache[t]=i,i},this.step=function(){return s.input.update(),s.updateSystemEntities(),s.entityComponentCache={},s.epoch++,s.system},this.updateSystemEntities=function(){s.system.entities.forEach(s.updateComponentsForEntity)},this.updateComponentsForEntity=function(e){for(var t=s.getCachedComponentsForEntity(e),n=0;n<t.length;n++)s.updateComponent(t[n])},this.updateComponent=function(e){return e.update(s,e)},this.getSerializableState=function(){return{system:s.system,config:s.config,epoch:s.epoch,entityComponents:s.entityComponents}},this.loadHydratedState=function(e){s.system=e.system,s.config=e.config,s.epoch=e.epoch,s.entityComponents=e.entityComponents},this.getState=function(){return s.system},this.toString=function(){return JSON.stringify({system:s.system,config:s.config},null,"  ")},this.config=Object(me.a)({},In,t),this.input=n||new Fn,this.storage=new Un(this),this.events=new wn(t),this.audio=new An(t),this.epoch=i||0,this.componentFactories=kn,this.entityManager=new bn(t),this.componentManager=new En(t),this.entityComponents={},this.system={entities:this.entityManager.entities,components:this.componentManager.components},this.entityComponentSetter=(o=this.entityComponents,function(e,t){return function(e,t,n){for(var i=t,o=e,s=0;s<i.length-1;s++){var r=i[s];r in o?o=o[r]:(o[r]={},o=o[r])}o[i[i.length-1]]=n}(o,e,t)})};var xn=function(e){var t=e.name,n=e.version,i=void 0===n?"1":n,o=e.logging;return new Pn({name:t,version:i,logging:void 0===o||o,screenSize:{x:800,y:600}})}({name:"Galaga"}),Bn=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).player=un(xn,"Odin"),n.bullet1=hn(xn,"Bullet of Destiny"),n.bullet2=hn(xn,"Bullet of Greater Truth"),n.state={epoch:xn.epoch,player:xn.getEntityModel(n.player),bullet1:xn.getEntityModel(n.bullet1),bullet2:xn.getEntityModel(n.bullet2),final:void 0,screen:"intro"},n.gameAudioInitialize=function(){C(Ke).forEach(function(e){xn.audio.registerSong("".concat(e),Object(s.a)({},Ke[e],{volume:.6}))}),C(Qe).forEach(function(e){xn.audio.registerSound("".concat(e),Object(s.a)({},Qe[e],{volume:.3}))})},n.gameAudioCleanup=function(){C(Ke).forEach(function(e){xn.audio.unRegisterSong("".concat(e))}),C(Qe).forEach(function(e){xn.audio.unRegisterSound("".concat(e))})},n.moUntWOrld=function(){n.setState({epoch:xn.epoch})},n.tick=function(){xn.step(),n.setState(function(e){return{epoch:xn.epoch,player:xn.getEntityModel(n.player),bullet1:xn.getEntityModel(n.bullet1),bullet2:xn.getEntityModel(n.bullet2)}})},n.startNewGame=function(){n.gotoScreen("game")},n.start=function(){n.stop(),n._update()},n._update=function(){n.handler=requestAnimationFrame(n._update),n.tick()},n.stop=function(){n.handler&&cancelAnimationFrame(n.handler)},n.save=function(){xn.storage.saveGame()},n.load=function(){n.stop(),xn.storage.loadGame(),n.moUntWOrld(),n.start()},n.restart=function(){n.gotoScreen("menu")},n.gotoScreen=function(e){n.setState({screen:e})},n.setFinalScore=function(e){n.setState(function(t){return Object(s.a)({},t,{final:e})})},n.gameAudioInitialize(),xn.events.registerEvent(j,n.startNewGame),xn.events.registerEvent(Q,n.start),xn.events.registerEvent(D,n.stop),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.moUntWOrld(),this.start()}},{key:"componentWillUnmount",value:function(){this.gameAudioCleanup(),xn.events.unRegisterEvent(j,this.startNewGame),xn.events.registerEvent(Q,this.start),xn.events.registerEvent(D,this.stop),this.stop(),delete this.handler}},{key:"render",value:function(){return i.createElement(d.a,null,i.createElement("div",{className:"App container with-title is-center is-dark"},i.createElement("label",{className:"title"},"Galaga.ts"),"intro"===this.state.screen?i.createElement(Ft,Object.assign({onPlayerInput:this.startNewGame,nav:this.gotoScreen},this.state)):null,"menu"===this.state.screen?i.createElement(Dt,Object.assign({system:xn},this.state)):null,"game"===this.state.screen?i.createElement(_t,Object.assign({system:xn,onRestart:this.restart,onFinalScore:this.setFinalScore,nav:this.gotoScreen},this.state)):null,"end"===this.state.screen?i.createElement(en,Object.assign({system:xn,nav:this.gotoScreen},this.state)):null,i.createElement(Rt,{system:xn,onStart:this.start,onStop:this.stop,onTick:this.tick,onSave:this.save,onLoad:this.load,nav:this.gotoScreen})))}}]),t}(i.PureComponent);o.render(i.createElement(Bn,null),document.getElementById("root"))}],[[54,2,1]]]);
//# sourceMappingURL=main.fad6e301.chunk.js.map